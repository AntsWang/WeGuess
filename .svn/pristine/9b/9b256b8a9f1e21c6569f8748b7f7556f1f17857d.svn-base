!function(t,e){null==t.component&&(t.component={}),t.component.betlist=function(t){var e={"已接受":"rgb(17,96,162)","等待":"rgb(17,96,162)","拒绝":"#808080","取消":"#333333","赢":"#d90000","赢半":"#d90000","输":"#1eb900","输半":"#1eb900","走盘":"#3a66b3"};return Vue.extend({template:'<div id="betspage"><div id="betlist-tabs">                    <span @click="ShowPage(\'unbal\')" :class="{\'tab\':true,\'tabselected\':type==\'unbal\'}"><span class="tab_text">未结算</span></span>                    <span @click="ShowPage(\'baldate\')" :class="{\'tab\':true,\'tabselected\':type!==\'unbal\'}"><span class="tab_text">已结算</span></span>                    </div>                    <div class="betlist xscroll">                <div  v-show="(type==\'balbets\'||type==\'unbal\')&&betlists.length>0" >                <div class="betlistpane"  v-for="(item,index) in betlists" >    \t            <div class="listinfo">\t\t\t\t\t\t<div class="leftdiv">\t\t\t\t\t\t<span class="block textindent span1"><span class="betid">ID:{{item.BetID}}</span><span class="floatright block span2">{{item.BetDate}}</span></span>                        <div class="subbets">                        <div v-for="subbet in item.Items" class="subbet-item">\t\t\t\t\t\t    <div class="subbet_pos">\t\t\t\t\t\t\t\t<div :class="\'bet_leftpane textCut inlineblock span3 blue \'+(subbet.Stage==3?\'livetext\':\' \')"><p class="l1"><span :class="subbet.Stage==3?\'livetext\':\'\'">{{subbet.Stage==3?"滚球":"赛前"}}</span>.{{MarketName(subbet)}}&nbsp;{{subbet.Score}}</p>\t\t\t\t\t\t\t\t<p class="l2">{{BetTeam(subbet)}} {{ShowHdp(subbet.HDP,subbet.BetPos,subbet.MarketID)}}@{{subbet.Odds}}</p>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<div class="bet_rightpane" :style="\'color:\'+GetColor(subbet.BetStatus)">{{subbet.BetStatus}}                            </div>                        </div>                        <div class="subbet_info"><div class="lp">{{subbet.HomeName}} <span class="betlist_vs">{{GetBetScoreOrVS(subbet)}}</span> {{subbet.AwayName}}</div><span class="subbet_date">{{subbet.LeagueName}}{{zwsp}}@{{subbet.ReportDate}}</span></div>                        <div class="subbet_line"></div>                        </div>                        </div>                        <div class="bet_footer">                            <span class="floatleft betv">投注猜豆:{{item.BetValue}}</span>                            <span class="name inlineblock" style="margin:auto">{{item.MpName?item.MpName+"@"+item.BetOdds.toFixed(2):""}}</span>                            <span class="backvalue floatright textCut">{{type=="unbal"?"预计返还":"返还"}}: {{parseInt(type=="unbal"?(item.AllWin+item.AllLose):item.BackValue)}}</span>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t            </div>\t            </div>\t\t\t\t<div v-show="type==\'baldate\'&&datelist.length>0" class="datelist">                <div  class="datelistpane" v-for="(item,index) in datelist" >                    <div   @click="ShowPage(\'balbets\',item.Date)"><span class="date_date">{{item.Date}}</span><span :class="\'date_count \'+(item.Count<=0?\'count_minus\':\'count_plus\')">{{item.Count}}<span class="date_arrow">&nbsp;</span></span></div>                </div>\t\t\t  </div><div class="no-data-tips" v-show="nodata&&!isLoading">暂无数据</div><loading v-show="isLoading" :message="\'加载中\'"></loading></div></div>',name:"betlist",data:function(){var t=this.$route.params.type,e=this.$route.params.date;return{isLoading:!0,datelist:[],reportDate:"",betlists:[],zwsp:String.fromCharCode(8203),type:t,date:e}},computed:{nodata:function(){return("unbal"==this.type||"balbet"==this.type)&&0==this.betlists.length||"baldate"==this.type&&0==this.datelist.length}},components:{loading:t.component.loading},created:function(){this.ShowPage(this.type,this.date),vbus.$emit("SetTitle","注单列表")},watch:{$route:function(t,e){this.type=this.$route.params.type,this.date=this.$route.params.date}},methods:{MarketName:function(e){return t.$config.MarketName[e.MarketID]||e.BetKind},BetTeam:function(t){return"主"==t.BetTeam?t.HomeName:"客"==t.BetTeam?t.AwayName:t.BetTeam},ShowHdp:function(e,a,s){return t.HandleData.showHDP(e,a,s)},ShowPage:function(t,e){switch(t){case"baldate":this.type=t,this.$router.push({name:"betlist",params:{type:t,date:"_"}}),this.GetBalancedBetDate();break;case"balbets":this.type=t,this.$router.push({name:"betlist",params:{type:t,date:e.replace(/\//g,"-")}}),this.GetBalancedBets(e);break;case"unbal":default:this.type=t,this.$router.push({name:"betlist",params:{type:t,date:"_"}}),this.GetUnbalancedBets()}},GetBetScoreOrVS:function(t){return t.IsHalfMarket?"<"+t.HalfScore+">":"<"+t.FullScore+">"},GetUnbalancedBets:function(){var e=this;e.betlists=[],e.isLoading=!0,t.Api.GetUnbalancedBets(function(t){e.isLoading=!1,t.Success?e.betlists=t.Data:e.betlists=[]},function(){e.isLoading=!1,e.betlists=[]})},GetBalancedBetDate:function(){var e=this;e.datelist=[],e.isLoading=!0,t.Api.GetBalancedBetDate(function(t){e.isLoading=!1,t.Success?e.datelist=t.Data:e.datelist=[]},function(){e.isLoading=!1,e.datelist=[]})},GetBalancedBets:function(e){this.isLoading=!0;var a=this;a.betlists=[],a.showdatelist=!1,t.Api.GetBalancedBets(e,function(t){a.isLoading=!1,t.Success?a.betlists=t.Data:a.betlists=[]},function(){a.betlists=[],a.isLoading=!1})},GetColor:function(t){return e[t]||"black"}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.betfail=function(t){return Vue.extend({template:'<div class="shadow betfail">\t\t\t\t<div class="messagepane">\t\t\t\t\t<div class="messagetitle blue"><span>投注失败</span><i class="floatright block wgicon icon_close" @click="CloseMessage()"> </i></div>\t\t\t\t\t<div class="message"><p class="msg">{{betErrormsg}}<p></div>\t\t\t\t\t<div v-if="type==2" class="messagebtn"><a class="block floatleft twoDiv blue"><span>参与活动</span></a><a class="block floatleft  twoDiv blue"><span>立即充值</span></a></div>\t\t\t\t\t<div v-if="type==3" class="messagebtn"><a class="block floatleft twoDiv blue" @click="ReSubmitBet()"><span>确定</span></a><a class="block floatleft  twoDiv blue" @click="CancelBet()"><span>取消</span></a></div>\t\t\t\t</div>\t </div>',props:["type","betErrormsg"],data:function(){return{}},methods:{CloseMessage:function(){this.$emit("CloseMessage")},ReSubmitBet:function(){this.$emit("ReSubmitBet")},CancelBet:function(){this.$emit("CancelBet")}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.betpane=function(t){return Vue.extend({template:'<div class="shadow">\t\t\t\t\t<div class="betpane">\t\t\t\t\t<div class="title"><i class="floatleft block wgicon icon_balance_bet"></i><span class="yellow">{{Fmoney(balance)}}</span><i class="floatright block wgicon icon_close"  @click="CloseBetPane()"></i>\t\t\t\t\t</div>\t\t\t\t\t<div class="betmatchlist">\t\t\t\t\t\t<div v-for="(match,index) in matchlist">\t\t\t\t\t\t\t<div class="infoleft textindent">\t                            <span class="event">\t\t                            <span class="back textCut l1c1">{{match.Stage==3?"滚球":"赛前"}}.{{MarketName(match)}}:{{match.BetTeam}} {{showHDP(match.Hdp,match.BetPos,match.MarketID)}}</span>\t\t                            <span class="yellow l1c2"> @ {{match.NewOdds}}</span>\t\t                            <i :class="{\'arrow\':true,\'oddup\':(OddChange(match.OldOdds,match.NewOdds)==1),\'odddown\':(OddChange(match.OldOdds,match.NewOdds)==2)}"></i>\t\t                            <i class="wgicon l1c4" :class="{\'icon_closeitem\':isMix}" @click="RemoveMatch(index)"></i>\t                            </span>                            </div>                            <div class="inforight">\t\t                            <span class="textindent textCut l2c1">{{match.HomeName}} vs {{match.AwayName}}</span>\t\t                            <span class="textindent textCut l2c2">\t{{match.LeagueName}}@{{ReportDate(match.ReportDate)}}<span style="display:inline-block;width:8px"></span></span>                            </div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div  class="computed textindent"><span v-if="isMix" >{{betinfo.TicketList.length}}X1 赔率  </span><span v-if="isMix"  class="yellow">{{betinfo.MixTotalOdds.toFixed(2)}}</span>\t\t\t\t\t<span v-if="!isMix" > 赔率  </span><span v-if="!isMix" class="yellow">{{betinfo.Ticket.NewOdds}}</span>\t\t\t\t\t<span class="totalback">预计返豆   <span class="yellow">{{totalBack}}</span></span></div>\t\t\t\t\t<div class="moneyitem"><input  id="betmoney" class="money back" type="number" min="1" v-model="betMoney" placeholder="请输入猜豆数量"/> <a class="white" @click="SubmitBet()">确定</a></div>\t\t\t\t\t<div class="fastBetBtn"><a v-for="(limit,index) in limitList" @click="FastBet(limit)">{{limit}}</a></div>\t\t\t\t\t<div class="computed textindent"><span>最低投注:{{Fmoney(betinfo.Limit.MinBet)}}</span><span class="maxlimit">最高投注:{{Fmoney(betinfo.Limit.MaxBet)}}</span></div>\t\t\t\t</div>\t\t\t\t</div>',props:["isMix","betinfo"],data:function(){return{balance:t.Api.Balance,betMoney:"",limitList:["100","200","500","1000","5000"],scrollTop:0}},created:function(){var e=this;t.vbus.$on("BalanceUpdated",function(t){e.balance=t})},destroyed:function(){},computed:{matchlist:function(){if(null==this.betinfo)return[];if(this.isMix)return this.betinfo.TicketList;var t=[];return t.push(this.betinfo.Ticket),t},totalBack:function(){if(""==this.betMoney||null==this.betMoney)return 0;var t=0;return t=this.isMix?parseFloat(this.betinfo.MixTotalOdds)*parseFloat(this.betMoney):parseFloat(this.betinfo.Ticket.NewOdds)*parseFloat(this.betMoney),this.Fmoney(t)}},methods:{MarketName:function(e){return t.$config.MarketName[e.MarketID]||e.BetKind},showHDP:function(e,a,s){return t.HandleData.showHDP(e,a,s)},Hdp:function(e){return t.HandleData.ComputeHDP(e)},HdpH:function(e){return t.HandleData.HdpH(e)},HdpA:function(e){return t.HandleData.HdpA(e)},ReportDate:function(t){return t.split("T")[0].replace(/-/g,"/")},OddChange:function(t,e){return t<e?1:t>e?2:0},CloseBetPane:function(){this.$emit("CloseBetPane"),t.vbus.$emit("CloseBetPane")},RemoveMatch:function(e){var a=this.matchlist.splice(e,1);this.isMix&&this.matchlist.length<2&&(this.$emit("CloseBetPane"),t.vbus.$emit("CloseBetPane")),t.vbus.$emit("removeMatch",a[0],e)},FastBet:function(t){this.betMoney=t},SubmitBet:function(){var e;if(""==this.betMoney||isNaN(this.betMoney))return void(this.betMoney=this.betinfo.Limit.MinBet);if(this.betMoney<this.betinfo.Limit.MinBet)return void(this.betMoney=this.betinfo.Limit.MinBet);if(this.betMoney>this.betinfo.Limit.MaxBet)return void(this.betMoney=this.betinfo.Limit.MaxBet);if(this.isMix){if(this.betinfo.TicketList.length<2)return;for(var a=[],s=0;s<this.betinfo.TicketList.length;s++){var i=this.betinfo.TicketList[s],n={CouID:i.CouID,MatchID:i.MatchID,MarketID:i.MarketID,Odds:i.NewOdds,BetPos:i.BetPos,BetHdp:i.BetHdp};a.push(n),i=null,n=null}e={BetValue:this.betMoney,MpID:t.$config.MpIDs[a.length-2],MixInfo:JSON.stringify(a)}}else e={CouID:this.betinfo.Ticket.CouID,MatchID:this.betinfo.Ticket.MatchID,MarketID:this.betinfo.Ticket.MarketID,Odds:this.betinfo.Ticket.NewOdds,BetPos:this.betinfo.Ticket.BetPos,BetHdp:this.betinfo.Ticket.BetHdp,BetValue:this.betMoney,SportID:this.betinfo.Ticket.SportID,Stage:this.betinfo.Ticket.Stage};this.$emit("SubmitBet",e)},Fmoney:function(t){return void 0==t?"undefined":t.toString().fmoney()}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.betsuccess=function(t){return Vue.extend({template:'<div class="shadow betsuccess">\t\t\t\t<div class="successpane">\t\t\t\t\t<div class="messagetitle yellow"><span>{{betResult.SubBets[0].Stage==3?"注单已提交成功,等待系统确认...":"投注成功"}}</span><i class="block wgicon icon_close" @click="CloseMessage()"> </i></div>\t\t\t\t\t<div class="matchlist">\t\t\t\t\t\t<div v-for="(match,index) in info.matchlist">\t\t\t\t\t\t\t<div class="matchitem textindent"><span class="event"><span class="back">{{match.Stage==3?"滚球":"赛前"}}.{{MarketName(match)}}:{{match.BetPosName}} {{showHDP(match.Hdp,match.BetPos,match.MarketID)}}</span><span class="yellow"> @ {{match.Odds}}</span></span>\t\t\t\t\t\t\t<span class="textindent">{{match.HomeName}} vs {{match.AwayName}}</span><span class="leagueinfo">{{match.LeagueName}}@{{match.ReportDate}}</span></div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="messagefooter"><span class="textindent floatleft">投注猜豆:<span class="yellow">{{Fmoney(info.money)}}</span></span><span class="floatright textCut">预计返还:<span>{{Fmoney(info.backvalue)}}</span></span></div>\t\t\t\t</div>\t </div>',props:["betResult"],data:function(){return{info:{money:this.betResult.BetValue,totalOdds:this.betResult.BetOdds,matchlist:this.betResult.SubBets,backvalue:this.betResult.BackAmount}}},methods:{MarketName:function(e){return t.$config.MarketName[e.MarketID]||e.MarketName},CloseMessage:function(){this.$emit("CloseMessage")},Fmoney:function(t){return t.toString().fmoney()},showHDP:function(e,a,s){return s<=2&&s>=1?(e<0?"-":"+")+t.HandleData.ComputeHDP(e):s<=4&&s>=3?t.HandleData.ComputeHDP(e):""},Hdp:function(e){return t.HandleData.ComputeHDP(e)},HdpH:function(e){return t.HandleData.HdpH(e)},HdpA:function(e){return t.HandleData.HdpA(e)}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.loading=function(t){return Vue.extend({template:'<div class="shadowload loading"><div class="loading_cont">\t\t\t\t\t\t<img src="context/image/loading1.gif" ></img>\t\t\t\t\t\t<div class="blue"><span class="textCut">{{message||"加载中"}}</span></div>\t\t\t\t\t </div></div>',props:["message"],name:"loading"})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.rule=function(t){return Vue.extend({template:"#rule",methods:{},mounted:function(){document.body.style.height="100%",document.getElementById("sport").style.height="100%"}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.sportbox=function(t){return Vue.extend({template:'<div>\t\t\t\t\t<a class="selectsport block" @click="ChangeShow()"><span class="icon" :class="{\'footballselect\':(sportId==1),\'basketballselect\':(sportId==2),\'gamingselect\':(sportId==3)}"></span><span class="icon" :class="{\'showup\':showlist,\'hidedown\':!showlist}"></span></a>\t\t\t\t\t<div class="sportpane" v-show="showlist">\t\t\t\t\t\t<a class="selectsport block" v-for="(item,index) in Filterlist()" @click="ChangeSport(item.SportId)">\t\t\t\t\t\t<span class="icon"  :class="{\'football\':(item.SportId==1),\'basketball\':(item.SportId==2),\'gaming\':(item.SportId==3)}"></span>\t\t\t\t\t\t</a>\t\t\t\t\t</div>\t\t\t\t</div>',props:["sportId"],data:function(){return{list:[{SportId:1,SportName:"足球"},{SportId:2,SportName:"篮球"},{SportId:3,SportName:"竞猜"}],showlist:!1}},methods:{Filterlist:function(){var t=[],e=this.sportId;return this.list.forEach(function(a,s){a.SportId!=e&&t.push(a)}),t},ChangeShow:function(){this.showlist=!this.showlist},ChangeSport:function(t,e){this.showlist=!1,this.$emit("ChangeSport",t)},InitBox:function(){this.sportId=1}}})}(t)}(window),function(w,fun){null==w.component&&(w.component={}),w.component.guessheader=function(w){var headerhtml='<div class="header guessheader" id="header">\t\t\t<div class="uerinfo">\t\t\t\t<i class="floatleft block wgicon icon_balance" @click=Debug></i><span class="yellow">{{balance<0?"-":Fmoney(balance)}}</span>\t\t\t\t<a class="floatright  wgicon icon_statement" @click="ShowStatement()"></a>\t\t\t\t<a class="floatright  wgicon icon_ranking" @click="ShowRanking()"></a>\t\t\t</div>\t\t\t<div class="typebtn">\t\t\t\t<sportbox ref="box" :sportId=sportId class="sportbox fourDiv floatleft" @ChangeSport=ChangeSport></sportbox>\t\t\t\t<a  :class="{\'noselect\':(type!=\'time\'),\'select\':(type==\'time\')}"  v-on:click=\'ChangeHeaderBtn("time")\'>按日期</a>\t\t\t\t<a  :class="{\'noselect\':(type!=\'league\'),\'select\':(type==\'league\')}"   v-on:click=\'ChangeHeaderBtn("league")\'>按比赛</a>\t\t\t\t<a  :class="{\'noselect\':(type!=\'live\'),\'select\':(type==\'live\')}"  v-on:click=\'ChangeHeaderBtn("live")\'>滚球</a>\t\t\t\t<a  :class="{\'noselect\':(type!=\'mix\'),\'select\':(type==\'mix\')}"  v-on:click=\'ChangeHeaderBtn("mix")\'>串关</a>\t\t\t</div><div id="debug" class="debug"><span class="close" @click="CloseDebug()">X</span><div id="debug_c" class="debug_c"></div>                    <span id="cmdline"><textarea id="ipt"/><button @click=SubmitCode>submit</button></span></div>\t\t\t</div>',header=Vue.extend({template:'<div class="header guessheader" id="header">\t\t\t<div class="uerinfo">\t\t\t\t<i class="floatleft block wgicon icon_balance" @click=Debug></i><span class="yellow">{{balance<0?"-":Fmoney(balance)}}</span>\t\t\t\t<a class="floatright  wgicon icon_statement" @click="ShowStatement()"></a>\t\t\t\t<a class="floatright  wgicon icon_ranking" @click="ShowRanking()"></a>\t\t\t</div>\t\t\t<div class="typebtn">\t\t\t\t<sportbox ref="box" :sportId=sportId class="sportbox fourDiv floatleft" @ChangeSport=ChangeSport></sportbox>\t\t\t\t<a  :class="{\'noselect\':(type!=\'time\'),\'select\':(type==\'time\')}"  v-on:click=\'ChangeHeaderBtn("time")\'>按日期</a>\t\t\t\t<a  :class="{\'noselect\':(type!=\'league\'),\'select\':(type==\'league\')}"   v-on:click=\'ChangeHeaderBtn("league")\'>按比赛</a>\t\t\t\t<a  :class="{\'noselect\':(type!=\'live\'),\'select\':(type==\'live\')}"  v-on:click=\'ChangeHeaderBtn("live")\'>滚球</a>\t\t\t\t<a  :class="{\'noselect\':(type!=\'mix\'),\'select\':(type==\'mix\')}"  v-on:click=\'ChangeHeaderBtn("mix")\'>串关</a>\t\t\t</div><div id="debug" class="debug"><span class="close" @click="CloseDebug()">X</span><div id="debug_c" class="debug_c"></div>                    <span id="cmdline"><textarea id="ipt"/><button @click=SubmitCode>submit</button></span></div>\t\t\t</div>',name:"header",props:["type","sportId","sportList"],data:function(){return{btnlist:{time:!0,league:!1,live:!1,mix:!1},debugcount:0,timer:0,balance:w.Api.Balance}},components:{sportbox:w.component.sportbox},mounted:function(){var t=this;w.vbus.$on("BalanceUpdated",function(e){t.balance=e})},methods:{Debug:function(){clearTimeout(this.timer),this.debugcount+=1,this.debugcount>=3&&(document.getElementById("debug").classList.add("active"),console.debug("当前设备视口宽度 "+document.documentElement.clientWidth),console.debug("当前设备像素比 "+window.devicePixelRatio));var t=this;this.timer=setTimeout(function(){t.debugcount=0},3e3)},CloseDebug:function(){document.getElementById("debug").classList.remove("active")},SubmitCode:function(){try{document.getElementById("ipt").focus();var that=this,r=eval(document.getElementById("ipt").value);console.info(r)}catch(t){console.error(t)}},ChangeSport:function(t){this.$emit("ChangeSport",t)},ChangeHeaderBtn:function(t){this.type!=t&&this.$emit("ChangeType",t)},ShowStatement:function(){this.$emit("ShowStatement")},ShowRanking:function(){this.$emit("ShowRanking")},Fmoney:function(t){return t.toString().fmoney()}}});return header}(w)}(window),function(t,e){null==t.component&&(t.component={}),"function"==typeof e&&(t.component.leagueitem=e(t))}(window,function(t){return Vue.extend({template:'<div id="league" class="league">\t\t\t\t\t\t<a class="leagueitem verticalcenter" v-for="(league,index) in leaguelist" v-bind:class="{\'select\':index==selectIndex}" @click="ChangeLeague(index)">\t\t\t\t\t\t\t<span class = "name textCut"> {{league.LN}}</span>\t\t\t\t\t\t\t<span > ({{ListLength(league)}})</span>\t\t\t\t\t\t</a>\t\t\t\t\t\t<div class="sideline" :style="\'height:calc(100% - \'+(leaguelist.length*5)+\'em - \'+(leaguelist.length)+\'px)\'"></div>\t\t\t\t\t\t<loading v-show="isLoading"></loading>\t\t\t\t</div>',name:"leagueItem",props:["sportId","type"],data:function(){var t=0;return this.$route.params.index&&(t=this.$route.params.index),{timer:null,leaguelist:[],selectIndex:isNaN(t)?0:t,isLoading:!1}},components:{loading:t.component.loading},watch:{sportId:function(){this.DestoryTimer(),this.isLoading=!0,this.GetData(!1)},$route:function(){var t=0;this.$route.params.index&&(t=this.$route.params.index),isNaN(t)||this.ChangeLeague(t)}},created:function(){this.isLoading=!0,this.GetData(!1)},beforeDestroy:function(){this.DestoryTimer()},methods:{GetData:function(e,a){var s=this;t.Api.GetOddsByLeague({SportId:this.sportId},function(t){s.isLoading=!1,t.Success?e?"function"==typeof a&&a(t.Data):(null==t.Data||t.Data.length<=0?(s.leaguelist=[],s.$emit("ChangeLeague",[])):(s.leaguelist=t.Data,s.selectIndex>s.leaguelist.length-1&&(s.selectIndex=0),s.ChangeLeague(s.selectIndex)),s.$emit("ComputedHeight"),s.ReashData()):(console.log(t.ErrorMsg),s.ReashData()),s=null},function(t){s.isLoading=!1,console.log("err="+t.Message),s.$emit("ChangeLeague",[]),s.ReashData()})},ReashData:function(){var e=this;this.timer=setTimeout(function(){"league"==e.type&&e.GetData(!0,function(t){e.leaguelist=t,e.ChangeLeague(e.selectIndex),e.ReashData(),e=null})},t.$config.RefreshTime.GuessLeague)},ListLength:function(t){return t&&t.MList?t.MList.length:0},ChangeLeague:function(t){if(this.selectIndex=t,null==this.leaguelist||this.leaguelist.length<=0)return this.leaguelist=[],void this.$emit("ChangeLeague",[]);var e=this.leaguelist[t].MList;this.$emit("ChangeLeague",e),this.$router.replace({name:"guess",params:{index:t,type:"league"}})},DestoryTimer:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}})}),function(t,e){null==t.component&&(t.component={}),"function"==typeof e&&(t.component.timeitem=e(t))}(window,function(t){return Vue.extend({name:"timeItem",template:'<div id="time" class="time xscroll">\t\t\t\t\t\t<a class="timeitem verticalcenter" v-for="(date,index) in datelist" v-bind:class="{\'select\': index==selectIndex}" @click="ChangeTime(index,date.MList)">\t\t\t\t\t\t\t<div>\t\t\t\t\t\t\t<span>{{date.RD}}</span>\t\t\t\t\t\t\t<span>{{date.WK}}({{date.MList.length}})</span>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</a>\t\t\t\t\t\t<div class="sideline" :style="\'height:calc(100% - \'+(datelist.length*5)+\'em - \'+(datelist.length)+\'px)\'"></div>\t\t\t\t\t\t<loading v-show="isLoading"></loading>\t\t\t\t</div>',props:["sportId","type"],data:function(){var t=0;return this.$route.params.index&&(t=this.$route.params.index),{timer:null,datelist:[],selectIndex:isNaN(t)?0:t,isLoading:!1}},components:{loading:t.component.loading},watch:{sportId:function(){this.DestoryTimer(),this.isLoading=!0,this.GetData(!1)},$route:function(){var t=0;this.$route.params.index&&(t=this.$route.params.index),isNaN(t)||this.ChangeTime(t)}},created:function(){this.isLoading=!0,this.GetData(!1)},beforeDestroy:function(){this.DestoryTimer()},methods:{GetData:function(e,a){var s=this;t.Api.GetOddsByTime({SportId:this.sportId},function(i){i.Success?e?"function"==typeof a&&a(i.Data):(null==i.Data||i.Data.length<=0?(s.datelist=[],s.$emit("ChangeTime",[]),i.ErrorMsg&&t.vbus.$emit("ShowToast",i.ErrorMsg)):(s.datelist=i.Data,s.selectIndex>s.datelist.length-1&&(s.selectIndex=0),s.ChangeTime(s.selectIndex)),s.$emit("ComputedHeight"),s.isLoading=!1,s.ReashData()):console.log(i.ErrorMsg),li=null},function(t){s.isLoading=!1,console.log("err="+t.Message),s.$emit("ChangeTime",[])})},ReashData:function(){var e=this;this.timer=setTimeout(function(){"time"==e.type&&(console.log("timerefresh"),e.GetData(!0,function(t){e.datelist=t,e.ChangeTime(e.selectIndex),e.ReashData(),e=null}))},t.$config.RefreshTime.GuessTime)},ChangeTime:function(t){if(this.selectIndex=t,null==this.datelist||this.datelist.length<=0)return this.datelist=[],void this.$emit("ChangeTime",[]);var e=this.datelist[t].MList;this.$emit("ChangeTime",e),this.$router.replace({name:"guess",params:{index:t,type:"time"}})},DestoryTimer:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}})}),function(t,e){null==t.component&&(t.component={}),t.component.matchitem=function(t){return Vue.extend({template:'<div id="matchitem"   class="matchitem touch_scroll"><div>\t\t\t\t\t<div v-for="(match,index) in matchlist" class="item" @click="SelectMatch(match.MID)" :key="match.MID">\t\t\t\t\t<div class="right">\t\t\t\t\t\t<span class="stage textCut" :class="{\'yellow\':match.OL}">{{OpenLive(match.OL)}}</span>\t\t\t\t\t\t<span class="guesser"><i class = "person wgicon"></i><span class="count">{{match.guesser}}999</span><i class = "wpicon right block"></i></span>\t\t\t\t\t</div>\t\t\t\t\t<div class="left">\t\t\t\t\t\t<span v-if="Type" class = "time" ><span class=" league textCut floatleft">{{match.LN}}</span> {{MatchDate(match.MD)}}</span>\t\t\t\t\t\t<span v-if="!Type" class=" textCut">{{match.MD}}</span>\t\t\t\t\t\t<span class="name textCut">{{match.HN}}</span>\t\t\t\t\t\t<span class="name textCut">{{match.AN}}</span>\t\t\t\t\t</div>\t\t\t\t\t</div><div class="no-data-tips inrightpane" v-show="!showleftpane&&matchlist.length==0">暂无数据</div>\t\t\t\t</div></div>',name:"matchItem",props:["matchlist","type","showleftpane"],computed:{Type:function(){return"time"==this.type}},methods:{MatchDate:function(t){return t.substr(t.length-5,5)},OpenLive:function(t){return t?"滚球":""},SelectMatch:function(t){this.$emit("SelectMatch",t)}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.live=function(t){return Vue.extend({template:'<div id="matchitem"  class="live guesspane xscroll" :class="{\'scrollpane\':!isShowBet}">\t\t\t\t\t<div><div v-for="(match,index) in matchlist.MH" class="item" >\t\t\t\t\t\t<div class="title" style="overflow:hidden"><span class="textCut textindent">{{matchlist.LG[match.M[2]].LN}}</span><span class="type">全场让球</span><span class="type">全场大小</span></div>\t\t\t\t\t\t<div class="pane" style="overflow:hidden">\t\t\t\t\t\t\t\t<a class="info" style="overflow:hidden" @click="SelectMatch(match.MatchID)">\t\t\t\t\t\t\t\t\t<span class="block textindent line1"><span class="name textCut">{{match.M[4]}}</span><span :class="\'card \'+(match.ML[4]==0?\'zero\':\'\')">{{match.ML[4]}}</span><span class="score">{{match.ML[2]}}</span></span>\t\t\t\t\t\t\t\t\t<span class="block textindent line2"><span class="livetime">{{GetLiveTime(match.ML[0],match.ML[1])}}</span><span class="guesserCount"><i class="wgicon person"></i><span class="count">200</span><i class="wgicon rightarrow"></i></span></span>\t\t\t\t\t\t\t\t\t<span class="block textindent line3"><span class="name textCut">{{match.M[6]}}</span><span :class="\'card \'+(match.ML[5]==0?\'zero\':\'\')">{{match.ML[5]}}</span><span class="score">{{match.ML[3]}}</span></span>\t\t\t\t\t\t\t\t</a>\t\t\t\t\t\t\t\t<div class="odds" >\t\t\t\t\t\t\t\t\t<a class="block" :class="{\'selectBet\':(selectBetitem==BetItem(match.MatchID,1,0,1))}" >\t\t\t\t\t\t\t\t\t<span class="wrapper" v-if="HasOwnProperty(match.MK,\'1\')" @click="InitBet(match.MK[\'1\'][0][1],1,match.MK[\'1\'][0][0],match.MatchID,1)"><span class="hdp textCut" >{{HdpH(match.MK["1"][0][3])}}</span>\t\t\t\t\t\t\t\t\t<span class="odd yellow textCut">{{FO(match.MK["1"][0][1])}}<i :class="{\'oddup\':(OddChange(match.MatchID,1,0,1)==1),\'odddown\':(OddChange(match.MatchID,1,0,1)==2)}"></i></span>\t\t\t\t\t\t\t\t\t</span></a>\t\t\t\t\t\t\t\t\t<a class="block" :class="{\'selectBet\':(selectBetitem==BetItem(match.MatchID,1,0,2))}" >\t\t\t\t\t\t\t\t\t<span class="wrapper" v-if="HasOwnProperty(match.MK,\'1\')" @click="InitBet(match.MK[\'1\'][0][2],2,match.MK[\'1\'][0][0],match.MatchID,1)"><span class="hdp textCut" >{{HdpA(match.MK["1"][0][3])}}</span>\t\t\t\t\t\t\t\t\t<span class="odd yellow textCut">{{FO(match.MK["1"][0][2])}}<i :class="{\'oddup\':((OddChange(match.MatchID,1,0,2))==1),\'odddown\':(OddChange(match.MatchID,1,0,2)==2)}"></i></span>\t\t\t\t\t\t\t\t\t</span></a>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<div class="odds">\t\t\t\t\t\t\t\t\t<a class="block" :class="{\'selectBet\':(selectBetitem==BetItem(match.MatchID,3,0,1))}"  >\t\t\t\t\t\t\t\t\t<span class="wrapper" v-if="HasOwnProperty(match.MK,\'3\')" @click="InitBet(match.MK[\'3\'][0][1],1,match.MK[\'3\'][0][0],match.MatchID,3)"><span class="hdp textCut">大{{Hdp(match.MK["3"][0][3])}}</span>\t\t\t\t\t\t\t\t\t<span class="odd yellow textCut">{{FO(match.MK["3"][0][1])}}<i :class="{\'oddup\':(OddChange(match.MatchID,3,0,1)==1),\'odddown\':(OddChange(match.MatchID,3,0,1)==2)}"></i></span>\t\t\t\t\t\t\t\t\t</span></a>\t\t\t\t\t\t\t\t\t<a class="block" :class="{\'selectBet\':(selectBetitem==BetItem(match.MatchID,3,0,2))}"  >\t\t\t\t\t\t\t\t\t<span class="wrapper"  v-if="HasOwnProperty(match.MK,\'3\')" @click="InitBet(match.MK[\'3\'][0][2],2,match.MK[\'3\'][0][0],match.MatchID,3)"><span class="hdp textCut">小{{Hdp(match.MK["3"][0][3])}}</span>\t\t\t\t\t\t\t\t\t<span class="odd yellow textCut">{{FO(match.MK["3"][0][2])}}<i :class="{\'oddup\':(OddChange(match.MatchID,3,0,2)==1),\'odddown\':(OddChange(match.MatchID,3,0,2)==2)}"></i></span>\t\t\t\t\t\t\t\t\t</span></a>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="no-data-tips" v-show="matchlist.MH==null||matchlist.MH.length==0">暂无数据</div>\t\t\t\t\t<loading v-show="isLoading"></loading></div>\t\t\t\t</div>',name:"live",props:["sportId","isShowBet","selectBetitem","type"],data:function(){return{timer:null,updateTime:"",matchlist:{},changelist:{},isLoading:!1}},components:{loading:t.component.loading},watch:{sportId:function(){this.DestoryTimer(),this.isLoading=!0,this.GetOdd(!1)}},created:function(){this.isLoading=!0,this.GetOdd(!1)},beforeDestroy:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},methods:{FO:function(e){return t.HandleData.FormatOdds(e)},GetOdd:function(e,a){var s=this;t.Api.GetOddsByLive({SportId:this.sportId,UpdateTime:this.updateTime},function(t){s.isLoading=!1,t.Success?(s.updateTime=t.Data.T,e?"function"==typeof a&&a(t.Data):(null==t.Data?s.matchlist={}:s.matchlist=t.Data,s.ReashData()),s.$nextTick(function(){this.$emit("ComputedHeight")})):console.log(t.ErrorMsg),s=null},function(t){s.isLoading=!1,console.log("err="+t.Message)})},Hdp:function(e){return t.HandleData.ComputeHDP(e)},HdpH:function(e){return t.HandleData.HdpH(e)},HdpA:function(e){return t.HandleData.HdpA(e)},BetItem:function(t,e,a,s){return"{0}-{1}-{2}-{3}".format(t,e,a,s)},InitBet:function(t,e,a,s,i){if(0!=t){this.selectBetitem="{0}-{1}-{2}-{3}".format(s,i,0,e);var n={betOdds:t,betPos:e,couid:a,matchId:s,marketId:i};this.$emit("InitBet",!1,n)}},OddChange:function(t,e,a,s){var i="{0}-{1}-{2}-{3}".format(t,e,a,s);return this.changelist.hasOwnProperty(i)?this.changelist[i]:0},ReashData:function(){var e=this;this.timer=setTimeout(function(){"live"==e.type&&e.GetOdd(!0,function(t){e.CompareChange(t),e.ReashData(),e=null})},t.$config.RefreshTime.GuessLive)},CompareChange:function(e){this.changelist=t.HandleData.CompareChange(this.matchlist,e)},SelectMatch:function(t){this.$emit("SelectMatch",t)},HasOwnProperty:function(t,e){return(!t||!t[e]||null==t[e].length||0!=t[e].length)&&!(!t||!t.hasOwnProperty(e)||null==t[e])},DestoryTimer:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},GetLiveTime:function(e,a){return t.HandleData.ComputeLiveTime(+this.sportId,e,a)}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.mix=function(t){return Vue.extend({
template:'<div class="mixwrp"><div class="xscroll mixsubwrp"><div id="matchitem" class="mix mixpane xscroll" v-if="HasOwnProperty(matchlist,\'MH\')" >\t\t\t\t\t<div><div class="item"   v-for="(match,index) in matchlist.MH" v-show="!IsEmptyObj(match.MK)">\t\t\t\t\t<a class="title" @click="ChangeShow(match)">\t\t\t\t\t\t<span class="league textindent">\t\t\t\t\t\t\t<span class="back textCut lname">{{matchlist.LG[match.M[2]].LN}} </span>\t\t\t\t\t\t\t<span class="textCut time">{{MatchDate(match.M[7])}}</span>\t\t\t\t\t\t</span>\t\t\t\t\t\t<span class="info block">\t\t\t\t\t\t\t<span class="name textCut back lname">{{match.M[4]}}</span><span class="vstext">vs</span><span class="name textCut back rname">{{match.M[6]}}</span>\t\t\t\t\t\t</span>\t\t\t\t\t\t<i class="wgicon block floatright" :class="{\'icon_up\':match.show,\'icon_down\':!match.show}"></i>\t\t\t\t\t</a>\t\t\t\t\t<div class="oddpane"  v-show="match.show" >\t\t\t\t\t\t<div class="oddtitle textindent back" v-if="HasOwnProperty(match.MK,\'5\')">全场赛果:<span class="gray">猜90分钟内比赛结果(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'5\')">\t\t\t\t\t\t\t<a class="threeDiv textindent block" :class="{\'selectBet\':(IsSelected(BetItem(match.MatchID,5,0,1)))}" @click="AssmbleBet(match.MK[\'5\'][0][1],1,match.MK[\'5\'][0][0],match.MatchID,5)"><span class="back">{{match.M[4]}}</span><span class="oddbet block yellow">{{FO(match.MK["5"][0][1])}}<i :class="{\'oddup\':((OddChange(match.MatchID,5,0,1))==1),\'odddown\':(OddChange(match.MatchID,5,0,1)==2)}"></i></span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(IsSelected(BetItem(match.MatchID,5,0,3)))}" @click="AssmbleBet(match.MK[\'5\'][0][3],3,match.MK[\'5\'][0][0],match.MatchID,5)"><span class="back">和局</span><span class="oddbet block yellow">{{FO(match.MK["5"][0][3])}}<i :class="{\'oddup\':((OddChange(match.MatchID,5,0,3))==1),\'odddown\':(OddChange(match.MatchID,5,0,3)==2)}"></i></span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(IsSelected(BetItem(match.MatchID,5,0,2)))}" @click="AssmbleBet(match.MK[\'5\'][0][2],2,match.MK[\'5\'][0][0],match.MatchID,5)"><span class="back">{{match.M[6]}} </span><span class="oddbet block yellow bright">{{FO(match.MK["5"][0][2])}}<i :class="{\'oddup\':((OddChange(match.MatchID,5,0,2))==1),\'odddown\':(OddChange(match.MatchID,5,0,2)==2)}"></i></span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="oddtitle  textindent back" v-if="HasOwnProperty(match.MK,\'1\')">全场让球:<span class="gray">猜90分钟内比赛结果(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'1\')">\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(IsSelected(BetItem(match.MatchID,1,0,1)))}" @click="AssmbleBet(match.MK[\'1\'][0][1],1,match.MK[\'1\'][0][0],match.MatchID,1)"><span class="back">{{match.M[4]}} {{HdpH(match.MK["1"][0][3])}}</span><span class="oddbet block yellow">{{FO(match.MK["1"][0][1])}}<i :class="{\'oddup\':((OddChange(match.MatchID,1,0,1))==1),\'odddown\':(OddChange(match.MatchID,1,0,1)==2)}"></i></span></a>\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(IsSelected(BetItem(match.MatchID,1,0,2)))}" @click="AssmbleBet(match.MK[\'1\'][0][2],2,match.MK[\'1\'][0][0],match.MatchID,1)"><span class="back">{{match.M[6]}} {{HdpA(match.MK["1"][0][3])}}</span><span class="oddbet block yellow bright">{{FO(match.MK["1"][0][2])}}<i :class="{\'oddup\':((OddChange(match.MatchID,1,0,2))==1),\'odddown\':(OddChange(match.MatchID,1,0,2)==2)}"></i></span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="oddtitle  textindent back" v-if="HasOwnProperty(match.MK,\'3\')">全场大小:<span class="gray">猜90分钟内比赛结果(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'3\')">\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(IsSelected(BetItem(match.MatchID,3,0,1)))}" @click="AssmbleBet(match.MK[\'3\'][0][1],1,match.MK[\'3\'][0][0],match.MatchID,3)"><span class="back">大  {{Hdp(match.MK["3"][0][3])}}</span> <span class="oddbet block yellow">{{FO(match.MK["3"][0][1])}}<i :class="{\'oddup\':((OddChange(match.MatchID,3,0,1))==1),\'odddown\':(OddChange(match.MatchID,3,0,1)==2)}"></i></span></a>\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(IsSelected(BetItem(match.MatchID,3,0,2)))}" @click="AssmbleBet(match.MK[\'3\'][0][2],2,match.MK[\'3\'][0][0],match.MatchID,3)"><span class="back">小  {{Hdp(match.MK["3"][0][3])}}</span><span class="oddbet block yellow bright">{{FO(match.MK["3"][0][2])}}<i :class="{\'oddup\':((OddChange(match.MatchID,3,0,2))==1),\'odddown\':(OddChange(match.MatchID,3,0,2)==2)}"></i></span></a>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t</div></div><div class="no-data-tips" v-show="matchlist.MH==null||matchlist.MH.length==0">暂无数据</div><loading v-show="isLoading"></loading></div><a v-show="(betlist.length>0)" class="betcount" @click="InitBet()">投注单 <span class="white">{{betlist.length}}</span></a></div>',name:"mix",props:["sportId","isShowBet"],data:function(){return{timer:null,matchlist:{},changelist:{},betlist:[],showIndex:0,updateTime:"",isLoading:!0,selected:[],selectBetitem:""}},components:{loading:t.component.loading},watch:{sportId:function(){this.DestoryTimer(),this.isLoading=!0,this.GetOdd(!1)}},created:function(){this.isLoading=!0;this.GetOdd(!1),t.vbus.$on("removeMatch",this.RemoveMatch),t.vbus.$on("CloseBetPane",this.ClearSelected),t.vbus.$on("MixBetSuccess",this.ClearSelected),t.vbus.$on("MixBetFail",function(){}),t.vbus.$on("ReInitMixBet",this.InitBet)},beforeDestroy:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},methods:{FO:function(e){return t.HandleData.FormatOdds(e)},RemoveMatch:function(t,e){var a="{0}-{1}-{2}-{3}".format(t.MatchID,t.MarketID,0,t.BetPos),s=this.selected.indexOf(a);if(s>=0&&this.selected.splice(s,1),s=-1,this.betlist[e]&&this.betlist[e].matchId==t.MatchID)s=e;else for(var i=0;i<this.betlist.length;i++)if(this.betlist[e].matchId==t.MatchID){s=i;break}s>=0&&this.betlist.splice(s,1),this.InitBet()},ClearSelected:function(){this.betlist=[],this.selected=[],this.selectBetitem=""},GetOdd:function(e,a){var s=this;e||(s.isLoading=!0),t.Api.GetOddsByMix({SportId:this.sportId,UpdateTime:s.updateTime},function(t){s.isLoading=!1,t.Success?(s.updateTime=t.Data.T,e?"function"==typeof a&&a(t.Data):(null==t.Data?s.matchlist={}:s.matchlist=t.Data,s.ReashData()),s.$nextTick(function(){this.$emit("ComputedHeight")})):console.log(t.ErrorMsg),s=null},function(t){s.isLoading=!1,console.log("err="+t.Message)})},Hdp:function(e){return t.HandleData.ComputeHDP(e)},HdpH:function(e){return t.HandleData.HdpH(e)},HdpA:function(e){return t.HandleData.HdpA(e)},BetItem:function(t,e,a,s){return"{0}-{1}-{2}-{3}".format(t,e,a,s)},MatchDate:function(t){var e=t.substr(4,2),a=t.substr(6,2),s=t.substr(8,2),i=t.substr(10,2);return"{0}/{1} {2}:{3}".format(e,a,s,i)},OddChange:function(t,e,a,s){var i="{0}-{1}-{2}-{3}".format(t,e,a,s);return this.changelist.hasOwnProperty(i)?this.changelist[i]:0},ChangeShow:function(t){t.hasOwnProperty("show")?t.show=!t.show:this.$set(t,"show",!0)},AssmbleBet:function(e,a,s,i,n){if(0!=e){null==this.betlist&&(this.betlist=new Array),this.selectBetitem="{0}-{1}-{2}-{3}".format(i,n,0,a);var c=this.selected.indexOf(this.selectBetitem);if(c>=0){this.selected.splice(c,1);for(var l=0;l<this.betlist.length;l++)if(this.betlist[l].matchId==i){this.betlist.splice(l,1);break}}else{if(this.betlist.length>=10)return void t.vbus.$emit("ShowToast","最多选择10场比赛,请取消一些选择后再试");for(var o=this.betlist.length,d={betOdds:e,betPos:a,couid:s,matchId:i,marketId:n},h=0;h<o;h++)if(this.betlist[h].matchId==d.matchId)return this.betlist[h]=d,this.selected.splice(h,1),void this.selected.splice(h,0,this.selectBetitem);this.betlist.push(d),this.selected.push(this.selectBetitem)}}},IsSelected:function(t){return this.selected.indexOf(t)>=0},InitBet:function(){if(!(null==this.betlist||this.betlist.length<2)){var e={mixBets:encodeURI(JSON.stringify(this.betlist)),mpId:t.$config.MpIDs[this.betlist.length-2]};this.$emit("InitBet",!0,e)}},GetMixBetError:function(){},ReashData:function(){var e=this;this.timer=setTimeout(function(){e.GetOdd(!0,function(t){e.CompareChange(t),e.ReashData(),e=null})},t.$config.RefreshTime.GuessMix)},CompareChange:function(e){try{this.changelist=t.HandleData.CompareChange(this.matchlist,e)}catch(t){this.changelist={},console.error("CompareChange "+t)}},HasOwnProperty:function(t,e){return null!=t&&!!t.hasOwnProperty(e)},IsEmptyObj:function(e){return t.HandleData.IsEmptyObj(e)},DestoryTimer:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.guessPage=function(t){return Vue.extend({template:'<div class="guess_dpane">\t\t\t<guessheader :type=type :sportId=sportId  ref="bar"  @ChangeType=ChangeType @ChangeSport=ChangeSport @ShowStatement=ShowStatement @ShowRanking=ShowRanking></guessheader>\t\t\t<div v-if="(type==\'time\') || (type==\'league\') " class="guesspane">\t\t\t\t\t<div :class="\'leftpane \'+(showleftpane?\'\':\'lefthide\')">\t\t\t\t\t\t<timeitem :type=type :sportId=sportId v-if="(type==\'time\') "   @ChangeTime=ChangeTime  @ComputedHeight=ComputedHeight></timeitem>\t\t\t\t\t\t<leagueitem :type=type :sportId=sportId  v-if="(type==\'league\') "   @ChangeLeague=ChangeLeague  @ComputedHeight=ComputedHeight></timeitem>\t\t\t\t\t</div>    \t\t\t\t<div class="rightpane xscroll" >\t\t\t\t\t\t<matchitem :showleftpane=showleftpane :matchlist=matchlist :type=type @SelectMatch=SelectMatch> </matchitem>\t\t\t\t\t</div>\t\t\t</div>\t\t\t\t<live :type=type v-if="(type==\'live\')" :sportId=sportId :isShowBet=isShowBet :selectBetitem=selectBetitem @InitBet=InitBet @SelectMatch=SelectMatch @ComputedHeight=ComputedHeight ></live>\t\t\t\t<mix class="guesspane" :type=type v-if="(type==\'mix\')" ref="mix" :sportId=sportId :isShowBet=isShowBet :selectBetitem=selectBetitem @InitBet=InitBet @ComputedHeight=ComputedHeight ></mix>\t\t\t\t<betpane v-if="isShowBet" :isMix=isMix :betinfo=betinfo  @CloseBetPane=CloseBetPane @SubmitBet=SubmitBet></betpane>\t\t\t\t<betfail :type=isBetSuccess :betErrormsg=betErrormsg v-show="isBetSuccess==2 || isBetSuccess==3" @CloseMessage=CloseMessage @ReSubmitBet=ReSubmitBet @CancelBet=CancelBet></betfail>\t\t\t\t<betsuccess :betResult=betResult  v-if="isBetSuccess==1" @CloseMessage=CloseMessage></betsuccess>\t\t\t\t<loading v-show="isLoading" :message=loadingText></loading></div>',name:"guess",data:function(){var t=1,e="time";return this.$route.params.sportId&&(t=this.$route.params.sportId),this.$route.params.type&&(e=this.$route.params.type),{currentmatchs:{},currentgames:{},sportId:t,type:e,matchlist:[],isLoading:!1,loadingText:"",selectBetitem:"",betinfo:{},isShowBet:!1,isMix:!1,isBetSuccess:0,betResult:null,betParams:null,betErrormsg:"",showleftpane:!0}},watch:{$route:function(t,e){this.type=this.$route.params.type,this.sportId=this.$route.params.sportId}},components:{guessheader:t.component.guessheader,timeitem:t.component.timeitem,leagueitem:t.component.leagueitem,matchitem:t.component.matchitem,live:t.component.live,mix:t.component.mix,loading:t.component.loading,betpane:t.component.betpane,betsuccess:t.component.betsuccess,betfail:t.component.betfail},mounted:function(){this.ComputedHeight(),vbus.$emit("SetTitle","竞猜")},methods:{UpdateBalance:function(){t.vbus.$emit("UpdateBalance")},ChangeSport:function(t){this.isShowBet=!1,this.sportId=t,this.$router.push({name:"guess",params:{sportId:t}})},ChangeType:function(t){if(this.type!=t){this.matchlist=[],this.isShowBet=!1,this.type=t;try{this.$router.push({name:"guess",params:{type:t}})}catch(t){}}},EmptyData:function(t){this.showleftpane=!t},ChangeTime:function(t){this.matchlist!=t&&(this.matchlist=t,this.EmptyData(0==t.length))},ChangeLeague:function(t){this.matchlist!=t&&(this.matchlist=t,this.EmptyData(0==t.length))},SelectMatch:function(t){this.$router.push({name:"match",params:{matchId:t}})},ComputedHeight:function(){},InitBet:function(e,a){this.UpdateBalance(),this.isMix=e;var s=this;this.ShowLoading(t.Language.LoadingText.LoadGetBet),this.isMix?t.Api.GetMixBet(a,function(e){switch(s.isLoading=!1,e.RequestBetError){case t.$config.RequestBetError.Success:case t.$config.RequestBetError.OddChange:case t.$config.RequestBetError.OutLeveChanged:1==e.RequestBetError&&t.vbus.$emit("ShowToast","赔率变化为"+e.Data.MixTotalOdds),e.Data&&(s.betinfo=e.Data,s.isShowBet=!0);break;case t.$config.RequestBetError.TicketError:case t.$config.RequestBetError.LimitError:case t.$config.RequestBetError.SystemError:case t.$config.RequestBetError.OverLimit:case t.$config.RequestBetError.MixParamNotFind:case t.$config.RequestBetError.NeedLogin:s.$refs.mix.GetMixBetError(),console.log("获取投注失败:"+e.ErrorMsg),t.vbus.$emit("ShowToast","请求串关注单失败,请重试或者刷新页面.",3e3)}},function(t){s.isLoading=!1,console.log("err="+t.Message)}):t.Api.GetBet(a,function(e){switch(s.isLoading=!1,e.RequestBetError){case t.$config.RequestBetError.Success:case t.$config.RequestBetError.OddChange:case t.$config.RequestBetError.OutLeveChanged:1==e.RequestBetError&&t.vbus.$emit("ShowToast","赔率已从{OldOdds}变化为{NewOdds}".format(e.Data.Ticket),2e3),e.Data&&(s.betinfo=e.Data,s.isShowBet=!0);break;case t.$config.RequestBetError.TicketError:case t.$config.RequestBetError.LimitError:case t.$config.RequestBetError.SystemError:case t.$config.RequestBetError.OverLimit:case t.$config.RequestBetError.MixParamNotFind:case t.$config.RequestBetError.NeedLogin:console.log("获取投注失败:"+e.ErrorMsg),t.vbus.$emit("ShowToast","请求注单失败,请重试或者刷新页面.",3e3)}},function(e){s.isLoading=!1,console.log("获取投注错误:"+e.Message),t.vbus.$emit("ShowToast","请求注单失败,请重试或者刷新页面.",3e3)})},SubmitBet:function(e){this.betParams=e,this.isShowBet=!1,this.ShowLoading(t.Language.LoadingText.LoadBet);var a=this;a.isMix?t.Api.BetMix(e,function(e){if(a.UpdateBalance(),a.isLoading=!1,a.selectBetitem="",0===e.BetResult)a.isBetSuccess=1,a.betResult=e.Data,a.betParams=null,t.vbus.$emit("MixBetSuccess");else if(2===e.BetResult||3===e.BetResult){var s=confirm("串关赔率已变化,是否继续投注?");s&&t.vbus.$emit("ReInitMixBet")}else{switch(console.log(e),e.BetResult){default:a.isBetSuccess=2,a.betErrormsg=e.ErrorMsg,a.betParams=null}t.vbus.$emit("MixBetFail")}},function(t){a.UpdateBalance(),a.selectBetitem="",a.isLoading=!1,console.log("err="+t.Message)}):t.Api.Bet(e,function(t){if(a.UpdateBalance(),a.isLoading=!1,a.selectBetitem="",0===t.BetResult)a.isBetSuccess=1,a.betResult=t.Data,a.betParams=null;else if(2===t.BetResult||3===t.BetResult){a.betParams.Odds=t.Changed.NewOdds,a.betParams.BetHdp=t.Changed.NewHdp,a.betinfo.Ticket.NewOdds=t.Changed.NewOdds;var e="";t.Changed.NewOdds!=t.Changed.OldOdds&&(e+="赔率已从{0}变化为{1} ".format(t.Changed.OldOdds,t.Changed.NewOdds)),t.Changed.NewHdp!=t.Changed.OldHdp&&(e+="球头已从{0}变化为{1} ".format(t.Changed.OldHdp,t.Changed.NewHdp)),e+="是否继续投注?";var s=confirm(e);s&&(a.isShowBet=!0)}else console.log(t),a.isBetSuccess=2,a.betErrormsg=t.ErrorMsg,a.betParams=null},function(t){a.UpdateBalance(),a.selectBetitem="",a.isLoading=!1,console.log("err="+t.Message)})},ReSubmitBet:function(){this.CloseMessage(),this.SubmitBet(this.betParams)},CancelBet:function(){this.CloseMessage(),this.betParams=null},CloseBetPane:function(){this.selectBetitem="",this.isShowBet=!1},CloseMessage:function(){this.isBetSuccess=0},ShowLoading:function(t){this.isLoading=!0,this.loadingText=t},ShowStatement:function(){this.$router.push({name:"betlist",params:{type:"unbal",date:"0"}})},ShowRanking:function(){this.$router.push({name:"ranking"})}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.calendar=function(t){return Vue.extend({template:'<div class="calendarPane verticalcenter shadow" @click.self="Close()">\t\t\t\t\t\t<div class="sprite">\t\t\t\t\t\t\t<div class="topitools itools">*</div>\t\t\t\t\t\t\t<a v-for="(date,index) in datelist" :class="{\'selestdate\':currentindex==index}" @click="SelectDate(index)">{{date.date}}</a>\t\t\t\t\t\t\t<div class="dowitools  itools">*</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>',props:["datelist","currentindex"],data:function(){return{}},mounted:function(){var t=document.getElementsByClassName("sprite")[0],e=document.getElementsByClassName("selestdate")[0];t.scrollTop=e.offsetTop-t.offsetTop+e.clientHeight/2-t.clientHeight/2},methods:{SelectDate:function(t){this.$emit("SelectDate",t)},Close:function(){this.$emit("CloseCalendar")}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.datebar=function(t){return Vue.extend({template:'<div class="datebar">\t\t<sportbox :sportId=sportId  class="sportbox fourDiv floatleft" @ChangeSport=ChangeSport></sportbox>\t\t<div class="showdate twoDiv floatleft verticalcenter">\t\t<a :class="{\'beforeAble\':(this.currentIndex>0),\'beforedate\':(this.currentIndex<=0)}" @click="BeforeDate()"></a>\t\t<span class="blue" v-if="datelist[currentIndex]">({{datelist[currentIndex].day}}){{datelist[currentIndex].date}}</span>\t\t<a :class="{\'nextAble\':(this.currentIndex<dateLength),\'nextdate\':(this.currentIndex>=dateLength)}" @click="NextDate()" ></a>\t\t</div>\t\t<a class="calendar fourDiv floatright" @click="ShowCaledener()"></a>\t\t<calendar v-if="isShowCalendar" :datelist=datelist :currentindex=currentIndex @SelectDate=SelectDate @CloseCalendar=CloseCalendar></calendar>\t</div>',props:["sportId","currentDate","datelist"],data:function(){var t=0;if(this.datelist instanceof Array&&this.currentDate)for(var e=0;e<this.datelist.length;e++)if(this.datelist[e].date==this.currentDate){t=e;break}return{isShowCalendar:!1,currentIndex:t}},components:{sportbox:t.component.sportbox,calendar:t.component.calendar},computed:{dateLength:function(){return this.datelist?this.datelist.length-1:0}},methods:{BeforeDate:function(){this.currentIndex<=0||(this.currentIndex--,this.$emit("ChangeDate",this.datelist[this.currentIndex].date))},NextDate:function(){this.currentIndex>=this.dateLength||(this.currentIndex++,this.$emit("ChangeDate",this.datelist[this.currentIndex].date))},ShowCaledener:function(){this.isShowCalendar=!this.isShowCalendar,this.$emit("ShowCaledener",this.isShowCalendar)},CloseCalendar:function(){this.isShowCalendar=!1,this.$emit("ShowCaledener",this.isShowCalendar)},SelectDate:function(t){this.currentIndex=t;var e=this;setTimeout(function(){e.isShowCalendar=!1},500),this.$emit("ChangeDate",this.datelist[this.currentIndex].date)},ChangeSport:function(t){this.$emit("ChangeSport",t)}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.leaguelive=function(t){return Vue.extend({template:'<div class="leagueslive xscroll"><div>                    <div class="no-data-tips" v-show="(matchlist==null||matchlist.length==0)&&!isLoading">暂无数据</div>\t\t\t\t\t<div v-for="(match,index) in matchlist" class="item" :class="{\'odditem\':(index%2==0)}" @click="SelectMatch(match.MID)">\t\t\t\t\t\t<div class="leag floatleft textCut"><div class="vertical"><span class="span1">{{match.LN}}</span><span  class="span1  yellow">{{LiveTime(1,match.PH,match.LT)}}</span></div></div>\t\t\t\t\t\t<div class="home floatleft textCut"><div class="vertical"><span  :class="\'redcard \'+(match.HC==0?\'zero\':\'\')">{{match.HC}}</span><span  class="span2">{{match.HN}}</span></div></div>\t\t\t\t\t\t<div class="middle floatleft textCut"><div class="vertical">                        <span class="span1 span4 halfscore">({{match.HSH}}-{{match.ASH}})</span>                        <span class="span3">{{match.HS}}-{{match.AS}}</span>                        </div></div>\t\t\t\t\t\t<div class="away floatleft textCut"><div class="vertical"><span class="span2">{{match.AN}}</span><span  :class="\'redcard \'+(match.AC==0?\'zero\':\'\')">{{match.AC}}</span></div></div>\t\t\t\t\t</div>\t\t\t\t\t<loading v-show="isLoading"></loading>\t\t\t\t</div></div>',props:[],data:function(){return{timer:null,matchlist:[],isLoading:!1}},components:{loading:t.component.loading},created:function(){this.isLoading=!0,this.GetData(!1)},beforeDestroy:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},methods:{GetData:function(e,a){var s=this;t.Api.GetTimeLeague({SportId:1},function(t){t.Success?e?"function"==typeof a&&a(t.Data):(s.isLoading=!1,null==t.Data?s.matchlist=[]:s.matchlist=t.Data,s.ReashData()):console.log(t.ErrorMsg),le=null},function(t){s.isLoading=!1,console.log("err="+t.Message)})},LiveTime:function(e,a,s){return t.HandleData.ComputeLiveTime(e,a,s)},ReashData:function(){var e=this;this.timer=setTimeout(function(){e.GetData(!0,function(t){e.matchlist=t,e.ReashData(),e=null})},t.$config.RefreshTime.LeagueLive)},SelectMatch:function(t){this.$emit("SelectMatch",t)}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.leagueprocess=function(t){return Vue.extend({template:'<div class="leagueslive">                    <datebar :sportId=sportId :datelist=datelist :currentDate=currentDate @ChangeDate=ChangeDate @ChangeSport=ChangeSport @ShowCaledener=ShowCaledener></datebar>\t                <div  class="leagueplist xscroll"><div class="no-data-tips" v-show="(matchlist==null||matchlist.length==0)&&!isLoading">暂无数据</div>\t                 <div v-for="(match,index) in matchlist" class="item" :class="{\'odditem\':(index%2==0)}" @click="SelectMatch(match.MID)">\t\t\t\t\t\t<div class="leag floatleft"><div class="vertical"><span class="span1 leaguename textCut">{{match.LN}}</span><span  class="span1 ">{{MatchDate(match.MD)}}</span></div></div>\t\t\t\t\t\t<div class="home floatleft"><div class="vertical textCut"><span  class="span2 w100">{{match.HN}}</span></div></div>\t\t\t\t\t\t<div class="middle floatleft"><div class="vertical"><span class="span6">vs</span></div></div>\t\t\t\t\t\t<div class="away floatleft"><div class="vertical textCut"><span class="span2 w100">{{match.AN}}</span></div></div>\t\t\t\t\t</div></div>\t\t\t\t\t<loading v-show="isLoading"></loading>\t\t\t\t</div>',props:["sportId","date"],data:function(){return{timer:null,matchlist:[],datelist:[],isLoading:!1,currentDate:null}},components:{datebar:t.component.datebar,loading:t.component.loading},created:function(){this.GetDateList()},beforeDestroy:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},methods:{GetDateList:function(){this.datelist=t.Tools.GetDateList(new Date,7),t.Tools.ArrayContain(this.datelist,this.date,"date")?this.currentDate=this.date:(this.currentDate=this.datelist[1].date,this.$emit("ChangeDate",this.currentDate)),this.isLoading=!0,this.GetData(!1)},GetData:function(e,a){var s=this;t.Api.GetProcessLeague({SportId:this.sportId,reportDate:this.currentDate},function(t){t.Success?e?"function"==typeof a&&a(t.Data):(null==t.Data?s.matchlist=[]:s.matchlist=t.Data,s.isLoading=!1,s.ReashData()):console.log(t.ErrorMsg),s=null},function(t){s.isLoading=!1,console.log("err="+t.Message)})},ReashData:function(){var e=this;this.timer=setTimeout(function(){e.GetData(!0,function(t){e.matchlist=t,e.ReashData(),e=null})},t.$config.RefreshTime.LeagueProcess)},MatchDate:function(t){return t.substr(t.length-5,5)},SelectMatch:function(t){this.$emit("SelectMatch",t)},ShowCaledener:function(t){this.$emit("ShowCaledener",t)},ChangeDate:function(t){this.currentDate!=t&&(this.currentDate=t,this.timer&&clearTimeout(this.timer),this.GetData(!1),this.$emit("ChangeDate",t))},ChangeSport:function(t){this.sportId=t,this.isLoading=!0,this.GetData(!1),this.$emit("ChangeSport",t)}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.leagueresult=function(t){return Vue.extend({template:'<div class="leagueslive">\t\t\t\t\t<datebar :sportId=sportId :currentDate=currentDate :datelist=datelist @ChangeDate=ChangeDate @ChangeSport=ChangeSport @ShowCaledener=ShowCaledener></datebar>\t\t\t\t\t<div class="leagueresultlist xscroll"><div class="no-data-tips" v-show="(matchlist==null||matchlist.length==0)&&!isLoading">暂无数据</div>\t\t\t\t\t<div v-for="(match,index) in matchlist" class="item" :class="{\'odditem\':(index%2==0)}">\t\t\t\t\t\t<div class="leag floatleft"><div class="vertical"><span class="span1 leaguename textCut">{{match.LN}}</span><span  class="span1">{{MatchDate(match.MD)}}</span></div></div>\t\t\t\t\t\t<div class="home floatleft"><div class="vertical textCut"><span  :class="\'redcard \'+(match.HC==0?\'zero\':\'\')">{{match.HC}}</span><span class="span2">{{match.HN}}</span></div></div>\t\t\t\t\t\t<div class="middle floatleft"><div class="vertical"><span class="span1 span4">{{match.HalfScore}}</span><span  class="status" v-if="match.Status==\'完成\'"></span><span class="status" v-if="match.Status==\'等待\'">{{match.Status}}</span><span class="span1 span5">{{match.FullScore}}</span></div></div>\t\t\t\t\t\t<div class="away floatleft"><div class="vertical textCut"><span class="span2">{{match.AN}}</span><span  :class="\'redcard \'+(match.AC==0?\'zero\':\'\')">{{match.AC}}</span></div></div>\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<loading v-show="isLoading"></loading>\t\t\t\t</div>',props:["sportId","date"],data:function(){return{timer:null,matchlist:[],datelist:[],isLoading:!1,currentDate:null}},components:{datebar:t.component.datebar,loading:t.component.loading},created:function(){this.GetDateList()},beforeDestroy:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},methods:{GetDateList:function(){var e=new Date(new Date-5184e5);this.datelist=t.Tools.GetDateList(e,7),t.Tools.ArrayContain(this.datelist,this.date,"date")?this.currentDate=this.date:(this.currentDate=this.datelist[6].date,this.$emit("ChangeDate",this.currentDate)),this.isLoading=!0,this.GetData(!1)},GetData:function(e,a){var s=this;t.Api.GetResultLeague({SportId:this.sportId,reportDate:this.currentDate},function(t){t.Success?e?"function"==typeof a&&a(t.Data):(s.isLoading=!1,null==t.Data?s.matchlist=[]:s.matchlist=t.Data,s.ReashData()):console.log(t.ErrorMsg),li=null},function(t){s.isLoading=!1,console.log("err="+t.Message)})},ReashData:function(){var e=this;this.timer=setTimeout(function(){e.GetData(!0,function(t){e.matchlist=t,e.ReashData(),e=null})},t.$config.RefreshTime.LeagueResult)},MatchDate:function(t){return t.substr(t.length-5,5)},ShowCaledener:function(t){this.$emit("ShowCaledener",t)},ChangeDate:function(t){this.currentDate!=t&&(this.timer&&clearTimeout(this.timer),this.currentDate=t,this.GetData(!1),this.$emit("ChangeDate",t))},ChangeSport:function(t){this.sportId=t,this.isLoading=!0,this.GetData(!1),this.$emit("ChangeSport",t)}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.leaguesPage=function(t){return Vue.extend({template:'<div class="leaguesPage">\t\t\t\t\t<div class="leaguetabs">\t\t\t\t\t<a class="tab" :class="{\'select\':(type==\'live\')}" @click="ChangeType(\'live\')">即时</a>\t\t\t\t\t<a  class="tab" :class="{\'select\':(type==\'result\')}" @click="ChangeType(\'result\')">赛果</a>\t\t\t\t\t<a  class="tab" :class="{\'select\':(type==\'process\')}" @click="ChangeType(\'process\')">赛程</a></div>\t\t\t\t\t<div id="pane" class="pane" :class="{\'scrollpane\':isShowCaledener}">\t\t\t\t\t\t<leaguelive  v-if="type==\'live\'" @SelectMatch=SelectMatch></leaguelive>\t\t\t\t\t\t<leagueresult :sportId=sportId :date=currentDate v-if="type==\'result\'" @ChangeSport=ChangeSport @ChangeDate=ChangeDate @ShowCaledener=ShowCaledener></leagueresult>\t\t\t\t\t\t<leagueprocess :sportId=sportId :date=currentDate  v-if="type==\'process\'"  @SelectMatch=SelectMatch @ChangeSport=ChangeSport @ChangeDate=ChangeDate @ShowCaledener=ShowCaledener></leagueprocess>\t\t\t\t\t</div>\t\t\t\t</div>',name:"leagues",props:[],data:function(){var t=1,e="live",a=null;return this.$route.params.type&&(e=this.$route.params.type),this.$route.params.sportId&&(t=this.$route.params.sportId),"result"==e?a=new Date(new Date-432e5).format("YY-MM-dd"):"process"==e&&(a=(new Date).getReportDate().addHours(24).format("YY-MM-dd")),this.$route.params.date&&(a=this.$route.params.date),{type:e,sportId:t,currentDate:a,isShowCaledener:!1}},watch:{currentDate:function(t){this.$router.replace({name:"leagues",params:{date:t}})}},components:{leaguelive:t.component.leaguelive,leagueresult:t.component.leagueresult,leagueprocess:t.component.leagueprocess},mounted:function(){vbus.$emit("SetTitle","赛事")},methods:{ChangeType:function(t){this.type!=t&&(this.type=t,this.$router.push({name:"leagues",params:{type:t}}))},SelectMatch:function(t){window!=top?top.NoticeRoute("#/match/"+t):this.$router.push({name:"match",params:{matchId:t}})},ChangeDate:function(t){this.currentDate=t},ChangeSport:function(t){this.sportId=t},ShowCaledener:function(t){this.isShowCaledener=t}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.matchheader=function(t){return Vue.extend({template:'<div class="matchheader">\t\t\t\t<div class="header white league">{{LN}}<a class="rule" @click="ShowRule()">游戏规则</a></div>\t\t\t\t<div class="header white time"><span v-if="Stage==3">{{LiveTime}}</span><span v-if="Stage!=3">{{MD}}</span></div>\t\t\t\t<div class="white"><span :class="\'homename block  textCut \'+(Stage==3?\'live\':\'\')">{{HN}}</span><span class="score block " v-if="Stage==3">{{HS}} : {{AS}}</span>\t\t\t\t<span v-if="Stage!=3" class="vs block "> vs </span><span :class="\'awayname block  textCut \'+(Stage==3?\'live\':\'\')">{{AN}}</span></div>\t\t\t</div>',props:["SID","LN","HN","AN","Stage","PH","LT","MD","HC","AC","HS","AS"],computed:{LiveTime:function(){return t.HandleData.ComputeLiveTime(this.SID,this.PH,this.LT)}},methods:{ShowRule:function(){this.$router.push({name:"rule"})}}})}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.match=function(t){var e=Vue.extend({name:"match",
template:'<div class="fullh">\t\t\t\t\t<matchheader :SID=match.SID :LN=match.LN :HN=match.HN :AN=match.AN :Stage=match.Stage :PH=match.PH :LT=match.LT :MD=match.MD :HC=match.HC :AC=match.AC :HS=match.HS :AS=match.AS></matchheader>\t\t\t\t\t<div id="match" class="match xscroll" :class="{\'scrollpane\':!isShowBet}">\t\t\t\t\t\t<div><div class="oddtitle textindent back textCut" v-if="HasOwnProperty(match.MK,\'5\')" ><span>全场赛果:</span><span class="gray">猜90分钟内比赛结果(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'5\')">\t\t\t\t\t\t\t<a class="threeDiv longer textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(5,0,1))}" @click="InitBet(match.MK[\'5\'][0][1],1,match.MK[\'5\'][0][0],5)"><span class="back textCut">{{match.HN}}</span><span class="oddbet block yellow">{{FO(match.MK["5"][0][1])}}<i :class="{\'oddup\':(OddChange(5,0,1)==1),\'odddown\':(OddChange(5,0,1)==2)}"></i></span></a>\t\t\t\t\t\t   \t<a class="threeDiv shorter textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(5,0,3))}" @click="InitBet(match.MK[\'5\'][0][3],3,match.MK[\'5\'][0][0],5)"><span class="back textCut">和局</span><span class="oddbet block yellow">{{FO(match.MK["5"][0][3])}}<i :class="{\'oddup\':((OddChange(5,0,3))==1),\'odddown\':(OddChange(5,0,3)==2)}"></i></span></a>\t\t\t\t\t\t   \t<a class="threeDiv longer textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(5,0,2))}" @click="InitBet(match.MK[\'5\'][0][2],2,match.MK[\'5\'][0][0],5)"><span class="back textCut">{{match.AN}} </span><span class="oddbet block yellow">{{FO(match.MK["5"][0][2])}}<i :class="{\'oddup\':((OddChange(5,0,2))==1),\'odddown\':(OddChange(5,0,2)==2)}"></i></span></a>\t\t\t\t\t\t</div>                        <div class="oddtitle textindent back textCut" v-if="HasOwnProperty(match.MK,\'1\')"><span>全场让球:</span><span class="gray">猜90分钟内比赛结果(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'1\')">\t\t\t\t\t\t\t <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(1,0,1))}" @click="InitBet(match.MK[\'1\'][0][1],1,match.MK[\'1\'][0][0],1)"><span class="back textCut">{{match.HN}} {{HdpH(match.MK["1"][0][3])}}</span><span class="oddbet block yellow">{{FO(match.MK["1"][0][1])}}<i :class="{\'oddup\':((OddChange(1,0,1))==1),\'odddown\':(OddChange(1,0,1)==2)}"></i></span></a>\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(1,0,2))}" @click="InitBet(match.MK[\'1\'][0][2],2,match.MK[\'1\'][0][0],1)"><span class="back textCut">{{match.AN}} {{HdpA(match.MK["1"][0][3])}}</span><span class="oddbet block yellow">{{FO(match.MK["1"][0][2])}}<i :class="{\'oddup\':((OddChange(1,0,2))==1),\'odddown\':(OddChange(1,0,2)==2)}"></i></span></a>\t\t\t\t\t\t</div>                        <div class="oddtitle textindent back textCut" v-if="HasOwnProperty(match.MK,\'3\')"><span>全场大小:</span><span class="gray">猜90分钟内比赛结果(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'3\')">\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(3,0,1))}" @click="InitBet(match.MK[\'3\'][0][1],1,match.MK[\'3\'][0][0],3)"><span class="back textCut">大于 {{Hdp(match.MK["3"][0][3])}}</span> <span class="oddbet block yellow">{{FO(match.MK["3"][0][1])}}<i :class="{\'oddup\':((OddChange(3,0,1))==1),\'odddown\':(OddChange(3,0,1)==2)}"></i></span></a>\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(3,0,2))}" @click="InitBet(match.MK[\'3\'][0][2],2,match.MK[\'3\'][0][0],3)"><span class="back textCut">小于 {{Hdp(match.MK["3"][0][3])}}</span><span class="oddbet block yellow">{{FO(match.MK["3"][0][2])}}<i :class="{\'oddup\':((OddChange(3,0,2))==1),\'odddown\':(OddChange(3,0,2)==2)}"></i></span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="oddtitle textindent back textCut" v-if="HasOwnProperty(match.MK,\'6\')" ><span>上半场赛果:</span><span class="gray">猜45分钟内比赛结果(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'6\')">\t\t\t\t\t\t\t<a class="threeDiv longer textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(6,0,1))}" @click="InitBet(match.MK[\'6\'][0][1],1,match.MK[\'6\'][0][0],6)"><span class="back textCut">{{match.HN}}</span><span class="oddbet block yellow">{{FO(match.MK["6"][0][1])}}<i :class="{\'oddup\':((OddChange(6,0,1))==1),\'odddown\':(OddChange(6,0,1)==2)}"></i></span></a>\t\t\t\t\t\t   \t<a class="threeDiv shorter textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(6,0,3))}" @click="InitBet(match.MK[\'6\'][0][3],3,match.MK[\'6\'][0][0],6)"><span class="back textCut">和局</span><span class="oddbet block yellow">{{FO(match.MK["6"][0][3])}}<i :class="{\'oddup\':((OddChange(6,0,3))==1),\'odddown\':(OddChange(6,0,3)==2)}"></i></span></a>\t\t\t\t\t\t   \t<a class="threeDiv longer textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(6,0,2))}" @click="InitBet(match.MK[\'6\'][0][2],2,match.MK[\'6\'][0][0],6)"><span class="back textCut">{{match.AN}} </span><span class="oddbet block yellow">{{FO(match.MK["6"][0][2])}}<i :class="{\'oddup\':((OddChange(6,0,2))==1),\'odddown\':(OddChange(6,0,2)==2)}"></i></span></a>\t\t\t\t\t\t</div>                        <div class="oddtitle textindent back textCut" v-if="HasOwnProperty(match.MK,\'2\')"><span>上半场让球:</span><span class="gray">猜45分钟内比赛结果(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'2\')">\t\t\t\t\t\t\t <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(2,0,1))}" @click="InitBet(match.MK[\'2\'][0][1],1,match.MK[\'2\'][0][0],2)"><span class="back textCut">{{match.HN}} {{HdpH(match.MK["2"][0][3])}}</span><span class="oddbet block yellow">{{FO(match.MK["2"][0][1])}}<i :class="{\'oddup\':((OddChange(2,0,1))==1),\'odddown\':(OddChange(2,0,1)==2)}"></i></span></a>\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(2,0,2))}" @click="InitBet(match.MK[\'2\'][0][2],2,match.MK[\'2\'][0][0],2)"><span class="back textCut">{{match.AN}} {{HdpA(match.MK["2"][0][3])}}</span><span class="oddbet block yellow">{{FO(match.MK["2"][0][2])}}<i :class="{\'oddup\':((OddChange(2,0,2))==1),\'odddown\':(OddChange(2,0,2)==2)}"></i></span></a>\t\t\t\t\t\t</div>                        <div class="oddtitle textindent back textCut" v-if="HasOwnProperty(match.MK,\'4\')"><span>上半场大小:</span><span class="gray">猜45分钟内比赛结果(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'4\')">\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(4,0,1))}" @click="InitBet(match.MK[\'4\'][0][1],1,match.MK[\'4\'][0][0],4)"><span class="back textCut">大于 {{Hdp(match.MK["4"][0][3])}}</span> <span class="oddbet block yellow">{{FO(match.MK["4"][0][1])}}<i :class="{\'oddup\':((OddChange(4,0,1))==1),\'odddown\':(OddChange(4,0,1)==2)}"></i></span></a>\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(4,0,2))}" @click="InitBet(match.MK[\'4\'][0][2],2,match.MK[\'4\'][0][0],4)"><span class="back textCut">小于 {{Hdp(match.MK["4"][0][3])}}</span><span class="oddbet block yellow">{{FO(match.MK["4"][0][2])}}<i :class="{\'oddup\':((OddChange(4,0,2))==1),\'odddown\':(OddChange(4,0,2)==2)}"></i></span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="oddtitle textindent back textCut" v-if="HasOwnProperty(match.MK,\'9\')"><span>全场波胆:</span><span class="gray">猜90分钟内完赛比分(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'9\')">\t\t\t\t\t\t\t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,6))}" @click="InitBet(match.MK[\'9\'][0][6],6,match.MK[\'9\'][0][0],9)"><span class="back textCut">1:0</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][6])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,1))}" @click="InitBet(match.MK[\'9\'][0][1],1,match.MK[\'9\'][0][0],9)"><span class="back textCut">0:0</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][1])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,2))}" @click="InitBet(match.MK[\'9\'][0][2],2,match.MK[\'9\'][0][0],9)"><span class="back textCut">0:1 </span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][2])}}</span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'9\')">\t\t\t\t\t\t\t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,11))}" @click="InitBet(match.MK[\'9\'][0][11],11,match.MK[\'9\'][0][0],9)"><span class="back textCut">2:0</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][11])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,7))}" @click="InitBet(match.MK[\'9\'][0][7],7,match.MK[\'9\'][0][0],9)"><span class="back textCut">1:1</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][7])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,3))}" @click="InitBet(match.MK[\'9\'][0][3],3,match.MK[\'9\'][0][0],9)"><span class="back textCut">0:2 </span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][3])}}</span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'9\')">\t\t\t\t\t\t\t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,12))}" @click="InitBet(match.MK[\'9\'][0][12],12,match.MK[\'9\'][0][0],9)"><span class="back textCut">2:1</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][12])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,13))}" @click="InitBet(match.MK[\'9\'][0][13],13,match.MK[\'9\'][0][0],9)"><span class="back textCut">2:2</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][13])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,8))}" @click="InitBet(match.MK[\'9\'][0][8],8,match.MK[\'9\'][0][0],9)"><span class="back textCut">1:2 </span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][8])}}</span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'9\')">\t\t\t\t\t\t\t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,16))}" @click="InitBet(match.MK[\'9\'][0][16],16,match.MK[\'9\'][0][0],9)"><span class="back textCut">3:0</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][16])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,19))}" @click="InitBet(match.MK[\'9\'][0][19],19,match.MK[\'9\'][0][0],9)"><span class="back textCut">3:3</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][19])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,4))}" @click="InitBet(match.MK[\'9\'][0][4],4,match.MK[\'9\'][0][0],9)"><span class="back textCut">0:3 </span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][4])}}</span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'9\')">\t\t\t\t\t\t\t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,17))}" @click="InitBet(match.MK[\'9\'][0][17],17,match.MK[\'9\'][0][0],9)"><span class="back textCut">3:1</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][17])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,25))}" @click="InitBet(match.MK[\'9\'][0][25],25,match.MK[\'9\'][0][0],9)"><span class="back textCut">4:4</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][25])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,9))}" @click="InitBet(match.MK[\'9\'][0][9],9,match.MK[\'9\'][0][0],9)"><span class="back textCut">1:3 </span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][9])}}</span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'9\')">\t\t\t\t\t\t\t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,18))}" @click="InitBet(match.MK[\'9\'][0][18],18,match.MK[\'9\'][0][0],9)"><span class="back textCut">3:2</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][18])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,26))}" @click="InitBet(match.MK[\'9\'][0][26],26,match.MK[\'9\'][0][0],9)"><span class="back fourBall textCut">主5球及以上</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][26])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,14))}" @click="InitBet(match.MK[\'9\'][0][14],14,match.MK[\'9\'][0][0],9)"><span class="back textCut">2:3</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][14])}}</span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'9\')">\t\t\t\t\t\t\t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,21))}" @click="InitBet(match.MK[\'9\'][0][21],21,match.MK[\'9\'][0][0],9)"><span class="back textCut">4:0</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][21])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,27))}" @click="InitBet(match.MK[\'9\'][0][27],27,match.MK[\'9\'][0][0],9)"><span class="back fourBall textCut">客5球及以上</span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][27])}}</span></a>\t\t\t\t\t\t   \t<a class="threeDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(9,0,5))}" @click="InitBet(match.MK[\'9\'][0][5],5,match.MK[\'9\'][0][0],9)"><span class="back textCut">0:4 </span><span class="oddbet block yellow cs">{{FO(match.MK["9"][0][5])}}</span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="oddtitle textindent back textCut" v-if="HasOwnProperty(match.MK,\'11\')"><span>全场总进球数:</span><span class="gray">猜90分钟内总进球数(含伤停补时)</span></div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'11\')">\t\t\t\t\t\t\t <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(11,0,1))}" @click="InitBet(match.MK[\'11\'][0][1],1,match.MK[\'11\'][0][0],11)"><span class="back textCut">0-1</span><span class="oddbet block yellow tg">{{match.MK["11"][0][1]}}</span></a>\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(11,0,2))}" @click="InitBet(match.MK[\'11\'][0][2],2,match.MK[\'11\'][0][0],11)"><span class="back textCut">2-3</span><span class="oddbet block yellow tg">{{match.MK["11"][0][2]}}</span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="odditem" v-if="HasOwnProperty(match.MK,\'11\')">\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(11,0,3))}" @click="InitBet(match.MK[\'11\'][0][3],3,match.MK[\'11\'][0][0],11)"><span class="back textCut">4-6</span> <span class="oddbet block yellow tg">{{match.MK["11"][0][3]}}</span></a>\t\t\t\t\t\t   <a class="twoDiv textindent block" :class="{\'selectBet\':(selectBetitem==BetItem(11,0,4))}" @click="InitBet(match.MK[\'11\'][0][4],4,match.MK[\'11\'][0][0],11)"><span class="back textCut">7以上</span><span class="oddbet block yellow tg">{{match.MK["11"][0][4]}}</span></a>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class=""><span class="gray">*注:页面无赔率时处于封盘状态,不可投注</span></div>\t\t\t\t\t</div></div>\t\t\t\t\t<betpane v-if="isShowBet" :isMix=false :betinfo=betinfo @CloseBetPane=CloseBetPane @SubmitBet=SubmitBet></betpane>\t\t\t\t\t<betfail :type=isBetSuccess :betErrormsg=betErrormsg v-if="isBetSuccess==2" @CloseMessage=CloseMessage @ReSubmitBet=ReSubmitBet @CancelBet=CancelBet></betfail>\t\t\t\t\t<betsuccess :betResult=betResult v-if="isBetSuccess==1" @CloseMessage=CloseMessage></betsuccess>\t\t\t\t\t<loading v-show="isLoading"></loading>\t\t\t\t</div>',data:function(){return{matchId:this.$route.params.matchId,timer:null,changelist:{},match:{HN:"-",AN:"-",LN:"-"},selectBetitem:"",isShowBet:!1,isBetSuccess:0,betParams:null,betinfo:null,betResult:null,betErrormsg:"",isLoading:!1,loadingText:""}},components:{matchheader:t.component.matchheader,betpane:t.component.betpane,betsuccess:t.component.betsuccess,betfail:t.component.betfail,loading:t.component.loading},created:function(){this.isLoading=!0,this.GetOdd(!1)},mounted:function(){},beforeDestroy:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},methods:{FO:function(e){return t.HandleData.FormatOdds(e)},GetOdd:function(e,a){var s=this;t.Api.GetMatchOdd({matchId:this.matchId},function(i){i.Success?e?("function"==typeof a&&a(i.Data),null==i.Data?s.match={}:s.match=i.Data.Data):(null==i.Data?s.match={}:s.match=i.Data.Data,s.isLoading=!1,s.$nextTick(function(){}),s.ReashData()):(s.isLoading=!1,console.log(i),t.vbus.$emit("ShowToast","获取比赛数据失败,"+i.ErrorMsg,5e3)),s=null},function(t){s.isLoading=!1,console.log("err="+t.Message)})},Hdp:function(e){return t.HandleData.ComputeHDP(e)},HdpH:function(e){return t.HandleData.HdpH(e)},HdpA:function(e){return t.HandleData.HdpA(e)},BetItem:function(t,e,a){return"{0}-{1}-{2}".format(t,e,a)},InitBet:function(e,a,s,i){if(0!=e){this.selectBetitem="{0}-{1}-{2}".format(i,0,a);var n=this,c={betOdds:e,betPos:a,couid:s,matchId:this.matchId,marketId:i};this.ShowLoading(t.Language.LoadingText.LoadGetBet),t.Api.GetBet(c,function(e){switch(n.isLoading=!1,e.RequestBetError){case t.$config.RequestBetError.Success:case t.$config.RequestBetError.OddChange:case t.$config.RequestBetError.OutLeveChanged:1==e.RequestBetError&&t.vbus.$emit("ShowToast","赔率已从{OldOdds}变化为{NewOdds}".format(e.Data.Ticket),2e3),e.Data&&(n.betinfo=e.Data,n.isShowBet=!0);break;case t.$config.RequestBetError.TicketError:case t.$config.RequestBetError.LimitError:case t.$config.RequestBetError.SystemError:case t.$config.RequestBetError.OverLimit:case t.$config.RequestBetError.MixParamNotFind:case t.$config.RequestBetError.NeedLogin:console.error("获取注单错误 "+e.ErrorMsg,e),t.vbus.$emit("ShowToast","请求注单失败,请重试或者刷新页面.",2e3)}},function(t){n.isLoading=!1,console.log("err="+t.Message)})}},SubmitBet:function(e){this.isShowBet=!1,this.ShowLoading(t.Language.LoadingText.LoadBet);var a=this;t.Api.Bet(e,function(t){if(a.selectBetitem="",a.isLoading=!1,0===t.BetResult)a.isBetSuccess=1,a.betResult=t.Data,this.betParams=null;else if(2===t.BetResult||3===t.BetResult){var s="";t.Changed.NewOdds!=t.Changed.OldOdds&&(s+="赔率已从{0}变化为{1} ".format(t.Changed.OldOdds,t.Changed.NewOdds)),t.Changed.NewHdp!=t.Changed.OldHdp&&(s+="球头已从{0}变化为{1} ".format(t.Changed.OldHdp,t.Changed.NewHdp)),s+="是否继续投注?";var i=confirm(s);i&&a.InitBet(e.Odds,e.BetPos,e.CouID,e.MarketID)}else switch(console.log("投注异常",t),t.BetResult){default:a.isBetSuccess=2,a.betErrormsg=t.ErrorMsg||"盘口关闭",a.betParams=null}a.UpdateBalance()},function(t){a.UpdateBalance(),a.selectBetitem="",a.isLoading=!1,console.log("err="+t.Message)})},ReSubmitBet:function(){this.CloseMessage(),this.SubmitBet(this.betParams)},CancelBet:function(){this.CloseMessage(),this.betParams=null},CloseBetPane:function(){this.selectBetitem="",this.isShowBet=!1},CloseMessage:function(){this.isBetSuccess=0},OddChange:function(t,e,a){var s="{0}-{1}-{2}".format(t,e,a);return this.changelist.hasOwnProperty(s)?this.changelist[s]:0},ReashData:function(){var t=this;this.timer=setTimeout(function(){t.GetOdd(!0,function(e){t.CompareChange(e),t.ReashData(),t=null})},3e4)},CompareChange:function(e){this.changelist=t.HandleData.MatchChange(this.match,e.Data)},ShowLoading:function(t){this.isLoading=!0,this.loadingText=t},HasOwnProperty:function(t,e){return!(!t||!t.hasOwnProperty(e))},UpdateBalance:function(){t.vbus.$emit("UpdateBalance")}}});return t.Vue.component("match",e),e}(t)}(window),function(t,e){null==t.component&&(t.component={}),t.component.ranking=function(t){return Vue.extend({template:'<div class="ranking">\t<div class="rank_head">\t\t<div id="ranklist-tabs">\t\t   <span @click="ShowWeek()" :class="{\'tab\':true,\'tabselected\':isShowWeek}"><span class="tab_text">周排行</span></span>\t\t\t<span @click="ShowMonth()" :class="{\'tab\':true,\'tabselected\':!isShowWeek}"><span class="tab_text">月排行</span></span>\t\t</div>\t\t<div class="title"><span class="rank ">排名</span><span class="headname ">&nbsp;</span><span class="nickname ">昵称</span><span class="winodd ">胜率</span></div>\t</div>\t<div class="wrapper xscroll"><div>\t\t<div class="blue rankpane" v-if="userInfo"><span class="rank ">{{userInfo.Rank}}</span><span class="headname"><img  class="headimg headname" :src="avartar"></span><span class="nickname ">{{(userNick||\'\')+\'(我自己)\'}}</span><span  class="winodd ">{{userInfo.WinRate}}</span></div>\t\t<div class="rankpane"  v-for="(item,index) in ranklists" :class="{\'odditem\':(index%2!=0),\'evenitem\':(index%2==0)}">\t\t\t<span  class="rank">{{item.Rank}}</span><span class="headname"><img  class="headimg" :src="GetAvartarUrl(item)"></span><span  class="nickname" >{{item.Nickname}}</span><span  class="winodd  yellow">{{item.WinRate}}</span>\t\t</div>       <span class="rank_tips">*注: 此排行榜只显示前50名</span>\t</div></div>\t<loading v-show="isLoading" :message="\'加载中\'"></loading></div>',data:function(){return{ranklists:[],userInfo:null,isLoading:!0,isShowWeek:!0,avartar:"",userNick:""}},created:function(){vbus.$emit("SetTitle","排行榜"),this.GetData(this.isShowWeek)},computed:{},components:{loading:t.component.loading},methods:{GetAvartarUrl:function(t){return t.HeadPicture||"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494912638653&di=7b44b9686ea468d13eeae8960983e4d6&imgtype=0&src=http%3A%2F%2Fi2.sanwen8.cn%2Fdoc%2F1611%2F781-16111QG515-51.jpg"},GetData:function(){var e=this;e.isLoading=!0,t.Api.GetRankList(e.isShowWeek,function(t){if(t.Data){var a=!1,s=[],i=t.Data.Data;e.avartar=t.Data.OwnerHeadPicture,e.userNick=t.Data.Nickname;for(var n in i)if(i.hasOwnProperty(n)){var c=i[n];c.WinRate=(100*c.WinRate).toFixed(2)+"%",c.Rank=+n+1,c.Nickname=c.Nickname||"(无昵称)",c.IsOwner?(e.userInfo=c,a=!0):s.push(c)}e.ranklists=s,a||(e.userInfo={Rank:"50以下",WinRate:"-"}),e.isLoading=!1}else e.ranklists=[],e.isLoading=!1},function(){e.ranklists=[],e.isLoading=!1})},ShowWeek:function(){this.isShowWeek=!0,this.GetData()},ShowMonth:function(){this.isShowWeek=!1,this.GetData()}}})}(t)}(window);