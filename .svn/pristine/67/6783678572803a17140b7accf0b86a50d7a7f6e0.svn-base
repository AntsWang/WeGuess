!function(e,t){"function"==typeof t&&(e.Api=t(e))}(window,function(e){var t={v:e.Vue,options:{baseUrl:"http://115.29.110.41:8001/api/",RankUrl:"/MemberApi/Api/WeChat/WinRateRank",TokenUrl:"/MemberApi/Api/WeChat/GetToken",token:""},Balance:-1,Request:function(e,n,o,a,r,i){i=parseInt(i);var u=n.indexOf("WinRateRank")>0||0==n.indexOf("http")?n:t.options.baseUrl+n;if(isNaN(i)&&(i=null),"get"==e){var s=[];for(var l in o)o.hasOwnProperty(l)&&s.push(l+"="+o[l]);var c=s.join("&");t.v.http.get(u+"?"+c,{headers:{Authorization:t.options.token||"",QIC:"QIC"},timeout:i||2e4}).then(function(e){e&&e.hasOwnProperty("body")&&"function"==typeof a&&a(e.body)},function(e){try{"500"==e.status&&window.vbus.$emit("ShowToast","500错误 Token验证失败")}catch(e){}"function"==typeof r&&r(e)})}else"post"==e&&t.v.http.post(u,o,{headers:{Authorization:t.options.token||"",QIC:"QIC"},timeout:i||2e4}).then(function(e){e&&e.hasOwnProperty("body")&&"function"==typeof a&&e.body&&a(e.body)},function(e){"function"==typeof r&&r(e)})},APIRequest:function(e,n,o,a,r,i){t.GetToken(function(u){t.options.token=u,t.Request(e,n,o,a,r,i)})},GetRankList:function(e,n,o){t.GetToken(function(){var a=e?0:1;t.Request("get",t.options.RankUrl,{Type:a},n,o)})},GetToken:function(e){var t="";try{t=top.$Token.Get()}catch(e){t="",console.log("getToken error ",e)}if(t||(console.log("获取Token失败"),setTimeout(function(){window.vbus.$emit("ShowToast","获取Token失败")},1e3)),"function"==typeof e)return void e(t)},GetBalance:function(e,n){t.APIRequest("get","getbalance",null,function(t){t.Success?e(t.Data):n(t)},n)},GetOddsByTime:function(e,n,o){t.APIRequest("get","getdatemenu",e,n,o)},GetOddsByLeague:function(e,n,o){t.APIRequest("get","getleaguemenu",e,n,o)},GetOddsByLive:function(e,n,o){e&&(e.isMix=!1),t.APIRequest("get","getweguessmatchodds",e,n,o)},GetOddsByMix:function(e,n,o){e&&(e.isMix=!0),t.APIRequest("get","getweguessmatchodds",e,n,o)},GetMatchOdd:function(e,n,o){t.APIRequest("get","getmatchdata",e,n,o)},GetBet:function(e,n,o){t.APIRequest("get","getbet",e,n,o)},GetMixBet:function(e,n,o){t.APIRequest("get","getmixbet",e,n,o)},Bet:function(e,n,o){t.APIRequest("post","bet",e,n,o)},BetMix:function(e,n,o){t.APIRequest("post","mixbet",e,n,o)},GetTimeLeague:function(e,n,o){t.APIRequest("get","getmatchlivedata",e,n,o)},GetResultLeague:function(e,n,o){t.APIRequest("get","getmatchresult",e,n,o)},GetProcessLeague:function(e,n,o){t.APIRequest("get","getmatchschedule",e,n,o)},GetUnbalancedBets:function(e,n){t.APIRequest("get","getunbalancedbetlist",{},e,n)},GetBalancedBetDate:function(e,n){t.APIRequest("get","getbalancedbetdate",{},e,n)},GetBalancedBets:function(e,n,o){t.APIRequest("get","getbalancedbetlist",{repDate:e},n,o)}};return t}),function(){var e={allowOddsStyle:2147483647,SN:{1:"soccer",2:"basketball",3:"football",4:"baseball",5:"hockey",6:"tennis",7:"volleyball",8:"handball",12:"volleyball"},MarketName:{1:"全场让球",2:"上半场让球",3:"全场大小",4:"上半场大小",5:"全场赛果",6:"上半场赛果",9:"全场波胆",10:"上半场波胆",11:"全场总进球数",12:"上半场总进球数"},MarketEnum:{F_HDP:1,H_HDP:2,F_OU:3,H_OU:4,F_1X2:5,H_1X2:6,F_OE:7,H_OE:8,F_CS:9,H_CS:10,F_TG:11,H_TG:12,F_FGLG:13,H_FGLG:14,FTHT:15,ML:16,Home_TG:17,Away_TG:18,WM:19,Home_CleanSheet:20,Away_CleanSheet:21,Home_WinNil:22,Away_WinNil:23,BothGoal:24,DC:25,TWH:26,Home_OU:27,Away_OU:28,HCS_FCS:29,OR:100,MIX:101},BetEnum:{Narmal:1,MixParlay:2,OutRight:3},BetListEnum:{Waiting:0,History:1},RequestBetError:{Success:0,OddChange:1,OutLeveChanged:2,TicketError:3,LimitError:4,SystemError:5,OverLimit:6,MixParamNotFind:7,NeedLogin:8},BetResultEnum:{Done:0,Fail:1,HdpChanged:2,OddsChanged:3,LessMinLimit:4,OverMaxlimit:5,OutLevelChanged:6,InsuffBalance:7,MixBetUnder:8,MixBetOver:9,QuotaLimit:10,NeedLogin:11,TooOften:12},BetStatusEnum:{All:-3,BetFail:-1,Waiting:0,Accepted:1,Settle:2,Cancel:3,Reject:4},MixMaxBet:10,MpIDs:[149,1,4,9,16,25,43,68,104],RefreshTime:{GuessTime:1e4,GuessLeague:1e4,GuessLive:5e3,GuessMix:1e4,Match:1e4,LeagueLive:1e4,LeagueResult:1e4,LeagueProcess:1e4},TestMode:!0};window.$config=e}(window),function(e,t){"function"==typeof t&&(e.HandleData=t(e))}(window,function(e){return{ComputeHDP:function(e){var t=Math.abs(e||0);return t=t%.5==.25?"{0}/{1}".format(t-.25,t+.25):t},showHDP:function(t,n,o){if(3==o||4==o)return e.HandleData.ComputeHDP(t);if(1==o||2==o){if(1==n)return e.HandleData.HdpH(t);if(2==n)return e.HandleData.HdpA(t)}return""},HdpH:function(t){var n=t<0?"-":"+";return(n=0==t?"":n)+e.HandleData.ComputeHDP(t)},HdpA:function(t){var n=t<0?"+":"-";return(n=0==t?"":n)+e.HandleData.ComputeHDP(t)},FormatOdds:function(e){return 0==e?"-":e},ComputeLiveTime:function(e,t,n){switch(e){case 1:switch(t){case-1:return"Live!";case 0:return"中场";case 1:return n<45?n+"'":"45'+";case 2:return 45+n+"'"}break;case 2:return t+"Q:"+n+"'"}return""},IsEmptyObj:function(e){if(null==e)return!0;for(var t in e)if(this.hasOwnProperty(t))return!0;return!1},CompareChange:function(t,n){if(null!=n){if(null==t)return t=null==n?{}:n,{};var o=t.MH,a=n,r={},i={};if(null!=o&&void 0!=o){for(var u=0;u<o.length;u++)i[o[u].MatchID+""]=u;if(a.D){var s={};a.D.forEach(function(e,t){s[e]=!0}),o.forEach(function(e,t){s.hasOwnProperty(e.MatchID)&&(o[t].MK={})}),s=null}if(a.MH){for(var l=0;l<a.MH.length;l++){var c=a.MH[l];if(l=i[a.MH[l].MatchID+""],o[l]&&null!=o[l]){if(c.ML&&c.ML.length>0&&(!o[l].ML||o[l].ML[2]==c.ML[2]&&o[l].ML[3]==c.ML[3]||(r["{0}-score".format(o[l].M[0])]=!0),o[l].ML=c.ML),c.M&&c.M.length>0&&(o[l].M=c.M),!c.MK||0==c.MK.length)return{};for(var f in c.MK)if(c.MK.hasOwnProperty(f)){var g=c.MK[f];o[l].MK[f]||(o[l].MK[f]=[]),g.forEach(function(e,t){e&&JSON.stringify(o[l].MK[f][t])!=JSON.stringify(e)&&(e.forEach(function(e,n){o[l].MK[f][t]&&o[l].MK[f][t][n]&&o[l].MK[f][t][n].toString()!=e&&(parseFloat(o[l].MK[f][t][n])<parseFloat(e)?r["{0}-{1}-{2}-{3}".format(o[l].M[0],f,t,n)]=1:parseFloat(o[l].MK[f][t][n])>parseFloat(e)&&(r["{0}-{1}-{2}-{3}".format(o[l].M[0],f,t,n)]=2))}),o[l].MK[f][t]=e)}),g.length<o[l].MK[f].length&&(o[l].MK[f]=o[l].MK[f].slice(0,g.length))}}else o.push(c)}t.MH=o}}else t.MH=a.MH;var h=e.Tools.ContactJson(t.LG,n.LG);return t.LG=h,r}},MatchChange:function(e,t){var n={};if(null==e)return e=null==t?{}:t,{};for(var o in t)"MK"!=o&&(e[o]=t[o]);if(null!=e.MK){for(var a in t.MK)if(t.MK.hasOwnProperty(a)){var r=t.MK[a];null!=r&&r.length>0?null!=e.MK[a]?r.forEach(function(t,o){e.MK[a].forEach(function(e,o){e[0]==t[0]&&t.forEach(function(t,r){parseFloat(t)>parseFloat(e[r])?n["{0}-{1}-{2}".format(a,o,r)]=1:parseFloat(t)<parseFloat(e[r])&&(n["{0}-{1}-{2}".format(a,o,r)]=2)})})}):e.MK[a]=r:e.MK[a]=null}}else e.MK=t.MK;return n}}}),function(e,t){"function"==typeof t&&(e.Language=t())}(window,function(){return{LoadingText:{LoadData:"加载数据",LoadGetBet:"获取投注",LoadBet:"正在下单"},DayList:["周天","周一","周二","周三","周四","周五","周六"]}}),function(e,t){"function"==typeof t&&(e.Tools=t(e))}(window,function(e){return{Fmoney:function(e){e=e>0&&e<=20?e:2;for(var t=parseFloat(this.replace(/[^\d\.-]/g,"")).toFixed(e)+"",n=t.split(".")[0].split("").reverse(),o=t.split(".")[1],a="",r=n.length,i=0;i<r;i++)a+=n[i]+((i+1)%3==0&&i+1!=r?",":"");return a.split("").reverse().join("")+"."+o},ContactJson:function(e,t){for(var n in t)e&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return e},GetDateList:function(t,n){for(var o=new Array,a=0;a<n;a++){var r=new Date(t.getTime()+1e3*a*24*60*60),i={date:r.format("YY-MM-dd"),day:e.Language.DayList[r.getDay()]};o.push(i)}return o},ArrayContain:function(e,t,n){if(e instanceof Array)for(var o=0;o<e.length;o++)if(e[o][n]==t)return!0;return!1}}}),String.prototype.fmoney=function(e){e=e>0&&e<=20?e:2;for(var t=parseFloat(this.replace(/[^\d\.-]/g,"")).toFixed(e)+"",n=t.split(".")[0].split("").reverse(),o=(t.split(".")[1],""),a=n.length,r=0;r<a;r++)o+=n[r]+((r+1)%3==0&&r+1!=a?",":"");return o.split("").reverse().join("")},String.prototype.format=function(e){if(arguments.length>0){var t,n=this,o=arguments.length;if(1===o&&"object"==typeof e)for(var a in e)t=new RegExp("({"+a+"})","g"),n=n.replace(t,e[a]);else for(var r=0;r<o;r++)t=new RegExp("({["+r+"]})","g"),n=n.replace(t,arguments[r]);return n}return this},Date.prototype.format=function(e){var t={"Y+":this.getFullYear(),"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds(),P:this.getHours()<=12?"AM":"PM"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e="Y+"==n?e.replace(RegExp.$1,t[n]):e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Date.prototype.addHours=function(e){if(isNaN(e))return console.warn("parameter",e,"wrong,excepted for number."),this;var t=this.valueOf();return t+=parseInt(60*e*60*1e3),t=new Date(t)},Date.prototype.getReportDate=function(){var e=this.valueOf();return e+=parseInt(-432e5),e=new Date(e),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e},function(e){var t={},n="";setInterval(function(){n=""},5e3),e.KP={bind:function(e,n){e&&n&&(t[e.toLowerCase()]=n)}},e.document.onkeydown=function(e){var o=e.key.toLowerCase();n+=o;for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];if(n.indexOf(a)>-1)try{n="",r(a)}catch(e){console.error(e)}else n.length>=500&&(n="")}}}(window),window.KP.bind("hh",function(e){document.location="/#/guess/time/1"}),window.KP.bind("jj",function(e){document.location="/#/leagues/result/1/2017-04-24"}),window.KP.bind("kk",function(e){document.location="/#/betlist/"}),window.KP.bind("ll",function(e){document.location="/#/ranking"});