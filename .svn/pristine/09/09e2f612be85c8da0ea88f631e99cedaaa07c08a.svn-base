!function(e,t){"function"==typeof t&&(e.Api=t(e))}(window,function(e){var t={v:e.Vue,options:{baseUrl:"http://sport.weguess.cn/api/",RankUrl:"http://m.weguess.cn/memberapi/api/WeChat/WinRateRank",PublishUrl:"http://m.weguess.cn/memberapi/api/WeChat/PublishBet",TokenUrl:"http://m.weguess.cn/MemberApi/Api/WeChat/GetToken",NoticeUrl:"http://m.weguess.cn/MemberApi/Api/WeChat/GetNotice",token:""},Balance:-1,Request:function(e,n,o,r,a,i){if(i=parseInt(i),isNaN(i)&&(i=null),"get"==e){var s=[];for(var u in o)o.hasOwnProperty(u)&&s.push(u+"="+o[u]);var l=s.join("&");t.v.http.get(n+"?"+l,{headers:{Authorization:t.options.token||"",QIC:window.$config.AgentKey},timeout:i||2e4}).then(function(e){e&&e.hasOwnProperty("body")&&"function"==typeof r&&r(e.body)},function(e){try{"500"==e.status&&window.vbus.$emit("ShowToast","500错误 Token验证失败")}catch(e){}"function"==typeof a&&a(e)})}else"post"==e&&t.v.http.post(n,o,{headers:{Authorization:t.options.token||"",QIC:window.$config.AgentKey},timeout:i||2e4}).then(function(e){e&&e.hasOwnProperty("body")&&"function"==typeof r&&e.body&&r(e.body)},function(e){"function"==typeof a&&a(e)})},APIRequest:function(e,n,o,r,a,i){t.GetToken(function(s){t.options.token=s,t.Request(e,t.options.baseUrl+n,o,r,a,i)})},GetRankList:function(e,n,o){t.GetToken(function(){var r=e?0:1;t.Request("get",t.options.RankUrl,{Type:r},n,o)})},PublishBet:function(e,n,o){t.GetToken(function(){t.Request("post",t.options.PublishUrl,e,n,o)})},GetToken:function(e){var t="";try{t=top.$Token.Get()}catch(e){t="",console.log("getToken error ",e)}t||(console.log("获取Token失败"),setTimeout(function(){window.vbus.$emit("ShowToast","获取Token失败")},1e3)),"function"!=typeof e||e(t)},GetBalance:function(e,n){t.APIRequest("get","getbalance",null,function(t){t.Success?e(t.Data):n(t)},n)},GetOddsByTime:function(e,n,o){t.APIRequest("get","getdatemenu",e,n,o)},GetOddsByLeague:function(e,n,o){t.APIRequest("get","getleaguemenu",e,n,o)},GetOddsByLive:function(e,n,o){e&&(e.isMix=!1),t.APIRequest("get","getweguessmatchodds",e,n,o)},GetOddsByMix:function(e,n,o){e&&(e.isMix=!0),t.APIRequest("get","getweguessmatchodds",e,n,o)},GetMatchOdd:function(e,n,o){t.APIRequest("get","getmatchdata",e,n,o)},GetBet:function(e,n,o){t.APIRequest("get","getbet",e,n,o)},GetMixBet:function(e,n,o){t.APIRequest("get","getmixbet",e,n,o)},Bet:function(e,n,o){t.APIRequest("post","bet",e,n,o)},BetMix:function(e,n,o){t.APIRequest("post","mixbet",e,n,o)},GetTimeLeague:function(e,n,o){t.APIRequest("get","getmatchlivedata",e,n,o)},GetResultLeague:function(e,n,o){t.APIRequest("get","getmatchresult",e,n,o)},GetProcessLeague:function(e,n,o){t.APIRequest("get","getmatchschedule",e,n,o)},GetUnbalancedBets:function(e,n){t.APIRequest("get","getunbalancedbetlist",{},e,n)},GetBalancedBetDate:function(e,n){t.APIRequest("get","getbalancedbetdate",{},e,n)},GetBalancedBets:function(e,n,o){t.APIRequest("get","getbalancedbetlist",{repDate:e},n,o)}};return t}),function(){var e={allowOddsStyle:2147483647,SN:{1:"soccer",2:"basketball",3:"football",4:"baseball",5:"hockey",6:"tennis",7:"volleyball",8:"handball",12:"volleyball"},MarketName:{1:"全场让球",2:"上半场让球",3:"全场大小",4:"上半场大小",5:"全场赛果",6:"上半场赛果",9:"全场波胆",10:"上半场波胆",11:"全场总进球数",12:"上半场总进球数"},MarketEnum:{F_HDP:1,H_HDP:2,F_OU:3,H_OU:4,F_1X2:5,H_1X2:6,F_OE:7,H_OE:8,F_CS:9,H_CS:10,F_TG:11,H_TG:12,F_FGLG:13,H_FGLG:14,FTHT:15,ML:16,Home_TG:17,Away_TG:18,WM:19,Home_CleanSheet:20,Away_CleanSheet:21,Home_WinNil:22,Away_WinNil:23,BothGoal:24,DC:25,TWH:26,Home_OU:27,Away_OU:28,HCS_FCS:29,OR:100,MIX:101},BetEnum:{Narmal:1,MixParlay:2,OutRight:3},BetListEnum:{Waiting:0,History:1},RequestBetError:{Success:0,OddChange:1,OutLeveChanged:2,TicketError:3,LimitError:4,SystemError:5,OverLimit:6,MixParamNotFind:7,NeedLogin:8},BetResultEnum:{Done:0,Fail:1,HdpChanged:2,OddsChanged:3,LessMinLimit:4,OverMaxlimit:5,OutLevelChanged:6,InsuffBalance:7,MixBetUnder:8,MixBetOver:9,QuotaLimit:10,NeedLogin:11,TooOften:12},BetStatusEnum:{All:-3,BetFail:-1,Waiting:0,Accepted:1,Settle:2,Cancel:3,Reject:4},MixMaxBet:10,MpIDs:[149,1,4,9,16,25,43,68,104],RefreshTime:{GuessTime:1e4,GuessLeague:1e4,GuessLive:5e3,GuessMix:1e4,Match:1e4,LeagueLive:1e4,LeagueResult:1e4,LeagueProcess:1e4},PublishMsg:{0:"系统错误",1:"成功",2:"账号已退出",3:"会员不存在",4:"未绑定三方平台",5:"服务已关闭",6:"Token签名错误",7:"Token失效",8:"服务器与服务器存在时差",9:"签名错误",10:"Token解析错误",11:"Token与服务器存在时差",12:"载荷参数错误",13:"超过访问频率",14:"Session超过访问频率",15:"Token超过访问频率",16:" IP超过访问频率",17:" 未绑定手机号",1001:"密码错误",1002:"验证码错误",1003:"账号已存在",1004:"注册验证码失效",1005:"邮箱已存在",1006:"会员已存在",1007:"OpenID已存在",1008:"手机号已存在","1008b":"手机号已绑定","1008r":"手机号已注册",1009:"验证码错误",1010:"参数无效",1011:"邮箱不存在",1012:"手机号不存在",1013:"相同的手机号",1014:"相同的邮箱",1015:"验证码次数超过限制",1016:"请求次数太多，请稍后再试",1101:"余额错误：无效参数",1102:"余额错误：余额不足",1103:"余额错误：会员不存在",1104:"余额错误：余额日志存在",1105:"余额错误：备注错误",1106:"余额错误：流水号错误",1107:"钻石余额不足，请充值",1201:"参数错误,手机号码为空",1202:"参数错误,验证码为空",1203:"参数错误,账号为空",1204:"参数错误,密码为空",1205:"参数错误,Code和OpenID同时未空",1206:"参数错误,手机号格式错误",1207:"参数错误,Email格式错误",1208:"参数错误,性别枚举参数超界",1209:"参数错误,OpenID为空",1210:"参数错误,OpenID错误",1211:"参数错误,Email为空",1212:"参数错误,昵称为空",1213:"参数错误,Key为空",2001:"奖品不存在",2002:"奖品不足",2003:"获取三方OpenID失败",6001:"页码配置错误",6002:"活动结束时间错误,时间为0 或者 结束时间小于当前时间",6003:"活动名称为空",6004:"最大人数错误",6005:"活动不存在",6006:"问题为空",6007:"为题已存在",6008:"问题不存在",6009:"选项为空",6010:"选项不存在",6011:"选项已存在",6012:"活动已结算",6013:"活动ID为空",6101:"投注答案为空",6102:"已投注",6103:"活动未结束",6104:"已结算",6105:"更改用户余额失败",6106:"更新数据库失败",6107:"写入MQ失败",6108:"超过投注人数上限",6109:"已投注人数错误",6110:"活动已截止",6111:"未选择所有问题答案",6112:"活动已取消",6113:"活动答案未录入完整",7001:"发布者为空",7002:"主题为空",7003:"添加消息错误",7004:"更新消息错误",7005:"消息已被删除",7006:"删除消息错误",7007:"图片格式错误,只允许为jpg,png,jpeg图片",7008:"图片超过限制",7009:"消息不存在",7010:"消息存储数据库失败",7011:"消息ID为空",8001:"发布记录不存在",8002:"扣款服务失败",8003:"购买方式错误",8004:"每场比赛的类型只能发布一个注单，每一个注单为一个推荐",8005:"该注单已发布",8006:"投注猜豆必须 ≥1000",8007:"赔率必须 ≥1.70",8008:"已超过截止时间",8009:"只能赛前",8010:"只能是指定发布类型之一",8011:"赛前全场胜负平和赛前全场让球盘只能任选其一",8012:"注单不存在",8013:"只能发布全场比赛",9002:"解盘关闭",9003:"解盘不存在",9004:"比赛已经开始",9005:"已经购买",9006:"扣款失败",9007:"送猜豆失败"},AgentKey:"qic"};window.$config=e}(window),function(e,t){"function"==typeof t&&(e.HandleData=t(e))}(window,function(e){return{ComputeHDP:function(e){var t=Math.abs(e||0);return t=t%.5==.25?"{0}/{1}".format(t-.25,t+.25):t},showHDP:function(t,n,o){if(3==o||4==o)return e.HandleData.ComputeHDP(t);if(1==o||2==o){if(1==n)return e.HandleData.HdpH(t);if(2==n)return e.HandleData.HdpA(t)}return""},HdpH:function(t){var n=t<0?"-":"+";return(n=0==t?"":n)+e.HandleData.ComputeHDP(t)},HdpA:function(t){var n=t<0?"+":"-";return(n=0==t?"":n)+e.HandleData.ComputeHDP(t)},FormatOdds:function(e){return 0==e?"-":e},ComputeLiveTime:function(e,t,n){switch(e){case 1:switch(t){case-1:return"Live!";case 0:return"中场";case 1:return n<45?n+"'":"45'+";case 2:return 45+n+"'"}break;case 2:return t+"Q:"+n+"'"}return""},IsEmptyObj:function(e){if(null==e)return!0;for(var t in e)if(this.hasOwnProperty(t))return!0;return!1},CompareChange:function(t,n){if(null!=n){if(null==t)return t=null==n?{}:n,{};var o=t.MH,r=n,a={},i={};if(null!=o&&void 0!=o){for(var s=0;s<o.length;s++)i[o[s].MatchID+""]=s;if(r.D){var u={};r.D.forEach(function(e,t){u[e]=!0}),o.forEach(function(e,t){u.hasOwnProperty(e.MatchID)&&(o[t].MK={})}),u=null}if(r.MH){for(var l=0;l<r.MH.length;l++){var c=r.MH[l];if(l=i[r.MH[l].MatchID+""],o[l]&&null!=o[l]){if(c.ML&&c.ML.length>0&&(!o[l].ML||o[l].ML[2]==c.ML[2]&&o[l].ML[3]==c.ML[3]||(a["{0}-score".format(o[l].M[0])]=!0),o[l].ML=c.ML),c.M&&c.M.length>0&&(o[l].M=c.M),!c.MK||0==c.MK.length)return{};for(var f in c.MK)if(c.MK.hasOwnProperty(f)){var h=c.MK[f];o[l].MK[f]||(o[l].MK[f]=[]),h.forEach(function(e,t){e&&JSON.stringify(o[l].MK[f][t])!=JSON.stringify(e)&&(e.forEach(function(e,n){o[l].MK[f][t]&&o[l].MK[f][t][n]&&o[l].MK[f][t][n].toString()!=e&&(parseFloat(o[l].MK[f][t][n])<parseFloat(e)?a["{0}-{1}-{2}-{3}".format(o[l].M[0],f,t,n)]=1:parseFloat(o[l].MK[f][t][n])>parseFloat(e)&&(a["{0}-{1}-{2}-{3}".format(o[l].M[0],f,t,n)]=2))}),o[l].MK[f][t]=e)}),h.length<o[l].MK[f].length&&(o[l].MK[f]=o[l].MK[f].slice(0,h.length))}}else o.push(c)}t.MH=o}}else t.MH=r.MH;var g=e.Tools.ContactJson(t.LG,n.LG);return t.LG=g,a}},MatchChange:function(e,t){var n={};if(null==e)return e=null==t?{}:t,{};for(var o in t)"MK"!=o&&(e[o]=t[o]);if(null!=e.MK){for(var r in t.MK)if(t.MK.hasOwnProperty(r)){var a=t.MK[r];null!=a&&a.length>0?null!=e.MK[r]?a.forEach(function(t,o){e.MK[r].forEach(function(e,o){e[0]==t[0]&&t.forEach(function(t,a){parseFloat(t)>parseFloat(e[a])?n["{0}-{1}-{2}".format(r,o,a)]=1:parseFloat(t)<parseFloat(e[a])&&(n["{0}-{1}-{2}".format(r,o,a)]=2)})})}):e.MK[r]=a:e.MK[r]=null}}else e.MK=t.MK;return n}}}),function(e,t){"function"==typeof t&&(e.Language=t())}(window,function(){return{LoadingText:{LoadData:"加载数据",LoadGetBet:"获取投注",LoadBet:"正在下单"},DayList:["周天","周一","周二","周三","周四","周五","周六"]}}),function(e){function t(e){(e=e||{}).method=e.method.toUpperCase()||"POST",e.url=e.url||"",e.async=e.async||!0,e.data=e.data||null,e.success=e.success||function(){};var t=null;t=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var n=[];for(var o in e.data)n.push(o+"="+e.data[o]);var r=n.join("&");"POST"===e.method.toUpperCase()?(t.open(e.method,e.url,e.async),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),t.setRequestHeader("Access-Control-Allow-Origin","*"),t.send(r)):"GET"===e.method.toUpperCase()&&(t.open(e.method,e.url+"?"+r,e.async),t.send(null)),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var n="";try{n=JSON.parse(t.responseText)}catch(e){n=t.responseText}e.success(n)}}}function n(e,n){t({method:"Get",url:f.Url,data:e,header:{Token:"",QIC:""},success:function(e){"function"==typeof n&&n(e&&e.Data?e.Data:[])}})}function o(){if(g.Ele=document.getElementById(f.Notice),g.Ele){g.ItemHeight=g.Ele.offsetHeight;g.Ele.innerHTML="<div class='img'></div><ul style='top:0px;'></ul>",g.UlEle=g.Ele.getElementsByTagName("ul").item(0),g.Count=0,g.LastItem="",g.NewUl=null,g.Start=!1,clearTimeout(i),clearTimeout(s),clearTimeout(u),clearTimeout(l),n(f.Data,r),i=setTimeout(function(){n(f.Data,r),setTimeout(arguments.callee,f.RefreshTime)},f.RefreshTime)}else console.log("容器不存在")}function r(e){for(var t=e.length,n=[],o=0;o<t;o++)for(var r in e[o].Contents)if(f.Lang.indexOf(r)>-1){var i=h.replace(/\{\{0\}\}/g,e[o].Contents[r]);n.push(i)}g.NewUl?g.Count=t+1:(g.UlEle.innerHTML=n[n.length-1]+n.join(""),g.Count=t,g.Start=!0),g.NewUl=g.LastItem+n.join(""),g.LastItem=n[n.length-1],g.Start&&(g.Start=!1,a())}function a(){g.UlEle.style.cssText="top:"+-1*g.ItemHeight+"px;transition-duration: 0s;transition-delay: 0s";var e=1;s=setTimeout(function(){g.Count>0?(++e<g.Count&&(g.UlEle.style.cssText="top:"+-1*e*g.ItemHeight+"px"),e==g.Count-1&&(u=setTimeout(function(){g.UlEle.innerHTML=g.NewUl,e=0,g.UlEle.style.cssText="top:"+-1*e*g.ItemHeight+"px;transition-duration: 0s;transition-delay: 0s"},f.ScrollTime-300)),l=setTimeout(arguments.callee,f.ScrollTime)):c=setTimeout(arguments.callee,100)},f.ScrollTime)}var i,s,u,l,c,f={Url:"",Notice:"notice",ScrollTime:2e3,RefreshTime:1e4,Lang:"ch,en,tw",Data:{}},h=((new Date).getTime(),"<li>{{0}}</li>"),g={ItemHeight:0,Count:0,Ele:null,UlEle:null,LastItem:"",NewUl:null,Start:!1},d=function(){var e;return{getInstance:function(t){if(!e){if(e=function(){},!t.Url)return void alert("缺少服务地址");f.Url=t.Url,f.Notice=t.Notice||f.Notice,f.ScrollTime=t.ScrollTime||f.ScrollTime,f.scrollHeight=t.scrollHeight||f.scrollHeight,f.RefreshTime=t.RefreshTime||f.RefreshTime,f.Lang=t.Lang||f.Lang,f.Data=t.Data||f.Data}return{get:n,start:o}}}}();e.$Notification=d}(window),function(e,t){"function"==typeof t&&(e.Tools=t(e))}(window,function(e){var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,o,r,a,i,s,u,l="",c=0;for(e=t._utf8_encode(e);c<e.length;)a=(n=e.charCodeAt(c++))>>2,i=(3&n)<<4|(o=e.charCodeAt(c++))>>4,s=(15&o)<<2|(r=e.charCodeAt(c++))>>6,u=63&r,isNaN(o)?s=u=64:isNaN(r)&&(u=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(i)+this._keyStr.charAt(s)+this._keyStr.charAt(u);return l},decode:function(e){var n,o,r,a,i,s,u="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)n=this._keyStr.indexOf(e.charAt(l++))<<2|(a=this._keyStr.indexOf(e.charAt(l++)))>>4,o=(15&a)<<4|(i=this._keyStr.indexOf(e.charAt(l++)))>>2,r=(3&i)<<6|(s=this._keyStr.indexOf(e.charAt(l++))),u+=String.fromCharCode(n),64!=i&&(u+=String.fromCharCode(o)),64!=s&&(u+=String.fromCharCode(r));return u=t._utf8_decode(u)},_utf8_encode:function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t,n,o,r="",a=0;a<e.length;)(t=e.charCodeAt(a))<128?(r+=String.fromCharCode(t),a++):t>191&&t<224?(n=e.charCodeAt(a+1),r+=String.fromCharCode((31&t)<<6|63&n),a+=2):(n=e.charCodeAt(a+1),o=e.charCodeAt(a+2),r+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&o),a+=3);return r}};return{Base64:t,Fmoney:function(e){e=e>0&&e<=20?e:2;for(var t=parseFloat(this.replace(/[^\d\.-]/g,"")).toFixed(e)+"",n=t.split(".")[0].split("").reverse(),o=t.split(".")[1],r="",a=n.length,i=0;i<a;i++)r+=n[i]+((i+1)%3==0&&i+1!=a?",":"");return r.split("").reverse().join("")+"."+o},ContactJson:function(e,t){for(var n in t)e&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return e},GetDateList:function(t,n){for(var o=new Array,r=0;r<n;r++){var a=new Date(t.getTime()+1e3*r*24*60*60),i={date:a.format("YY-MM-dd"),day:e.Language.DayList[a.getDay()]};o.push(i)}return o},ArrayContain:function(e,t,n){if(e instanceof Array)for(var o=0;o<e.length;o++)if(e[o][n]==t)return!0;return!1}}}),String.prototype.fmoney=function(e){e=e>0&&e<=20?e:2;for(var t=parseFloat(this.replace(/[^\d\.-]/g,"")).toFixed(e)+"",n=t.split(".")[0].split("").reverse(),o=(t.split(".")[1],""),r=n.length,a=0;a<r;a++)o+=n[a]+((a+1)%3==0&&a+1!=r?",":"");return o.split("").reverse().join("")},String.prototype.format=function(e){if(arguments.length>0){var t,n=this,o=arguments.length;if(1===o&&"object"==typeof e)for(var r in e)t=new RegExp("({"+r+"})","g"),n=n.replace(t,e[r]);else for(var a=0;a<o;a++)t=new RegExp("({["+a+"]})","g"),n=n.replace(t,arguments[a]);return n}return this},Date.prototype.format=function(e){var t={"Y+":this.getFullYear(),"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds(),P:this.getHours()<=12?"AM":"PM"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e="Y+"==n?e.replace(RegExp.$1,t[n]):e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Date.prototype.addHours=function(e){if(isNaN(e))return console.warn("parameter",e,"wrong,excepted for number."),this;var t=this.valueOf();return t+=parseInt(60*e*60*1e3),t=new Date(t)},Date.prototype.getReportDate=function(){var e=this.valueOf();return e+=parseInt(-432e5),(e=new Date(e)).setHours(0),e.setMinutes(0),e.setSeconds(0),e},function(e){var t={},n="";setInterval(function(){n=""},5e3),e.KP={bind:function(e,n){e&&n&&(t[e.toLowerCase()]=n)}},e.document.onkeydown=function(e){var o=e.key.toLowerCase();n+=o;for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(n.indexOf(r)>-1)try{n="",a(r)}catch(e){console.error(e)}else n.length>=500&&(n="")}}}(window),window.KP.bind("hh",function(e){document.location="/#/guess/time/1"}),window.KP.bind("jj",function(e){document.location="/#/leagues/result/1/2017-04-24"}),window.KP.bind("kk",function(e){document.location="/#/betlist/"}),window.KP.bind("ll",function(e){document.location="/#/ranking"});